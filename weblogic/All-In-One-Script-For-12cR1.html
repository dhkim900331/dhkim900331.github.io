<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c">
  <meta name="google-site-verification" content="VA4--HCHFiwWLaC20E-0qHP0yy2WDEsRqLXx4zNzeiE">
  <!-- Google Adsense -->
  <meta name="google-adsense-account" content="ca-pub-6953284101209041">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6953284101209041" crossorigin="anonymous"></script><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[WebLogic] All In One Script For 12cR1 | IT Blogger DongDong</title>
<meta name="generator" content="Jekyll v4.3.4">
<meta property="og:title" content="[WebLogic] All In One Script For 12cR1">
<meta name="author" content="DongHyun Kim">
<meta property="og:locale" content="en_US">
<meta name="description" content="1. Overview">
<meta property="og:description" content="1. Overview">
<link rel="canonical" href="https://dhkim900331.github.io/weblogic/All-In-One-Script-For-12cR1">
<meta property="og:url" content="https://dhkim900331.github.io/weblogic/All-In-One-Script-For-12cR1">
<meta property="og:site_name" content="IT Blogger DongDong">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-09T23:06:28+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="[WebLogic] All In One Script For 12cR1">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"DongHyun Kim"},"dateModified":"2023-02-09T23:06:28+00:00","datePublished":"2023-02-09T23:06:28+00:00","description":"1. Overview","headline":"[WebLogic] All In One Script For 12cR1","mainEntityOfPage":{"@type":"WebPage","@id":"https://dhkim900331.github.io/weblogic/All-In-One-Script-For-12cR1"},"url":"https://dhkim900331.github.io/weblogic/All-In-One-Script-For-12cR1"}</script>
<!-- End Jekyll SEO tag -->
<!-- original favicon tag -->
  <!--<link rel="shortcut icon" href="">-->
  
  <!-- tobe favicon tag (2022.02.22) -->
  <!-- https://hongpage.kr/28 -->
  <link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
  <link rel="manifest" href="/assets/img/favicons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="https://dhkim900331.github.io/feed.xml" title="IT Blogger DongDong">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js"></script>



















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('true' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
	  
	  /* CUSTOM (2023-03-28) */  
	  var codeBody = pre.querySelector(".rouge-code pre").innerText;
	  pre.addEventListener('dblclick', () => {
		var lang = block.parentNode.getAttribute('data-lang', lang);
		window.navigator.clipboard.writeText(codeBody);
		block.parentNode.setAttribute('data-lang', "copied");
		setTimeout(() => {
		  block.parentNode.setAttribute('data-lang', lang);
		}, 2000);
	  });
    }
  }
  
  function getPosition( element ) {
	var rect = element.getBoundingClientRect();
	return {
		x: rect.left,
		y: rect.top
	};
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    color: #fff;
    background-color: #ff4e00;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: uppercase;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>
</head>
<body>



























































































































<header class="site-header " role="banner">

  <div class="wrapper">
    <div class="site-header-inner">
<span class="site-brand"><a class="site-brand-inner" rel="author" href="/">
  <img class="site-favicon" title="IT Blogger DongDong" src="" onerror="this.style.display='none'">
  IT Blogger DongDong
</a>
</span><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewbox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>

          <div class="trigger">
<a class="page-link" href="/about">ABOUT</a><a class="page-link" href="/archives">ARCHIVES</a><a class="page-link" href="/categories">CATEGORIES</a><a class="page-link" href="/">HOME</a><a class="page-link" href="/search">SEARCH</a><a class="page-link" href="/tags">TAGS</a>









<span class="page-link">



<div id="google_translate_element" style="display: none;">
</div>

<span class="ct-language">
  <ul class="list-unstyled ct-language-dropdown">
    
      <li>
        <a href="#" class="lang-select" data-lang="en">
          
          <img src="https://cdn.countryflags.com/thumbs/united-states-of-america/flag-400.png" title="English">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="fr">
          
          <img src="https://cdn.countryflags.com/thumbs/france/flag-400.png" title="French">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="zh-CN">
          
          <img src="https://cdn.countryflags.com/thumbs/china/flag-400.png" title="Chinese(Simple)">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ja">
          
          <img src="https://cdn.countryflags.com/thumbs/japan/flag-400.png" title="Japanese">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ko">
          
          <img src="https://cdn.countryflags.com/thumbs/south-korea/flag-400.png" title="Korean">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ru">
          
          <img src="https://cdn.countryflags.com/thumbs/russia/flag-400.png" title="Russian">
          
        </a>
      </li>
    
  </ul>
</span>

<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    autoDisplay: false,
    layout: google.translate.TranslateElement.InlineLayout.VERTICAL
  }, 'google_translate_element');

  // Links to cross-origin destinations are unsafe
  var gll = document.getElementsByClassName('goog-logo-link')[0];
  if (gll) {
    gll.setAttribute('rel', 'noopener');
  }

  function restoreLang() {
    var iframe = document.getElementsByClassName('goog-te-banner-frame')[0];
    if (!iframe) return;

    var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
    var restore_el = innerDoc.getElementsByTagName("button");

    for (var i = 0; i < restore_el.length; i++) {
      if (restore_el[i].id.indexOf("restore") >= 0) {
        restore_el[i].click();
        var close_el = innerDoc.getElementsByClassName("goog-close-link");
        close_el[0].click();
        return;
      }
    }
  }

  function triggerHtmlEvent(element, eventName) {
    var event;
    if (document.createEvent) {
      event = document.createEvent('HTMLEvents');
      event.initEvent(eventName, true, true);
      element.dispatchEvent(event);
    } else {
      event = document.createEventObject();
      event.eventType = eventName;
      element.fireEvent('on' + event.eventType, event);
    }
  }

  var googleCombo = document.querySelector("select.goog-te-combo");
  var langSelect = document.querySelector('.ct-language');
  langSelect.addEventListener('click', function(event) {
    if (!event.target) {
      return;
    }

    var selected = document.querySelector('.ct-language .ct-language-selected');
    if (selected) {
      selected.classList.remove('ct-language-selected');
    }

    var target = event.target;
    while (target && target !== langSelect ) {
      if (target.matches('.lang-select')) {
        break;
      }
      target = target.parentElement;
    }

    if (target && target.matches('.lang-select')) {
      var lang = target.getAttribute('data-lang');
      if (googleCombo.value == lang) {
        restoreLang();
      } else {
        target.parentElement.classList.add('ct-language-selected');
        googleCombo.value = lang;
        triggerHtmlEvent(googleCombo, 'change');
      }
    }

    event.preventDefault();
  });
}
</script>

<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</span>
</div>
        </nav>
</div>
  </div>
</header>

<script>
  function initHeader() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function(e) {
      storeScrollData();
    });

    storeScrollData();
  }
  document.addEventListener('DOMContentLoaded', initHeader);
</script>
















































































































































<script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    hashValue = decodeURIComponent(hashValue);
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>
<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light">Light</p>
      <p class="dark">Dark</p>
    </div>
  </label>
</div>




<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('auto' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="framework">
  <section class="main">

     <div class="post">
  <section>









<header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">[WebLogic] All In One Script For 12cR1</h1>
  <h2 class="post-subtitle"></h2>

  <p class="post-meta">
    <time class="dt-published" datetime="2023-02-09T23:06:28+00:00" itemprop="datePublished"><i class="fa fa-calendar"></i> 2023-02-09
    </time>

    
    
































    <span class="post-reading-time left-vsplit"><i class="fa fa-clock-o"></i> About 18 mins</span>
  </p>
<div class="post-tags">
<a class="post-tag" href="/tags.html#Middleware">#Middleware</a><a class="post-tag" href="/tags.html#WebLogic">#WebLogic</a><a class="post-tag" href="/tags.html#Install">#Install</a><a class="post-tag" href="/tags.html#WLST">#WLST</a><a class="post-tag" href="/tags.html#Python">#Python</a>
</div></header>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="post-content e-content" itemprop="articleBody">

      <h2 id="1-overview">1. Overview</h2>

<p>WebLogic 12cR1 테스트 환경을 자동 재구축을 위해 모든 기본 설치 환경을 집약한다.</p>
<p style="height:40px;"></p>

<h2 id="2-descriptions">2. Descriptions</h2>

<p>All-In-One-Script-For-12cR1.sh 실행으로 다음 환경을 구성하도록 한다.</p>

<ul>
  <li>AdminServer (TCP 8001 , console account : weblogic, weblogic1)</li>
  <li>Managed M1 (TCP 8002)</li>
  <li>Managed M2 (TCP 8003)</li>
  <li>myCluster (M1, M2)</li>
  <li>/sw/app/{testApp, PostDataTest} deployed on myCluster</li>
</ul>

<p><br><br></p>

<h2 id="3-script">3. Script</h2>

<h3 id="31-engine">3.1 Engine</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
</pre></td>
<td class="rouge-code"><pre><span class="nv">BASEDIR</span><span class="o">=</span>/sw/downloads
<span class="nv">OS_USERNAME</span><span class="o">=</span><span class="si">$(</span><span class="nb">id</span> <span class="nt">--user</span> <span class="nt">--name</span><span class="si">)</span>
<span class="nv">OS_GROUPNAME</span><span class="o">=</span><span class="si">$(</span><span class="nb">id</span> <span class="nt">--group</span> <span class="nt">--name</span><span class="si">)</span>

<span class="nv">WLS_INSTALL_FILE</span><span class="o">=</span><span class="k">${</span><span class="nv">BASEDIR</span><span class="k">}</span>/fmw_12.1.3.0.0_wls.jar
<span class="nv">JAVA_HOME</span><span class="o">=</span>/sw/jdk/jdk1.7.0_361

<span class="nv">WLS_INSTALL_PATH</span><span class="o">=</span>/sw/weblogic/12cR1
<span class="nv">INVENTORY_PATH</span><span class="o">=</span>/sw/weblogic/inventories/12cR1
<span class="nv">INVENTORY_GROUP</span><span class="o">=</span><span class="k">${</span><span class="nv">OS_GROUPNAME</span><span class="k">}</span>

<span class="nv">DOMAIN_NAME</span><span class="o">=</span>base_domain
<span class="nv">DOMAIN_HOME</span><span class="o">=</span><span class="k">${</span><span class="nv">WLS_INSTALL_PATH</span><span class="k">}</span>/domains/<span class="k">${</span><span class="nv">DOMAIN_NAME</span><span class="k">}</span>

<span class="nv">HOSTNAME</span><span class="o">=</span>wls.local
<span class="nv">ADM_ADDR</span><span class="o">=</span><span class="k">${</span><span class="nv">HOSTNAME</span><span class="k">}</span>
<span class="nv">ADM_PORT</span><span class="o">=</span>8001
<span class="nv">ADM_USERNAME</span><span class="o">=</span>weblogic
<span class="nv">ADM_PASSWORD</span><span class="o">=</span>weblogic1

<span class="nv">M1_SVR_NAME</span><span class="o">=</span>M1
<span class="nv">M1_SVR_ADDR</span><span class="o">=</span><span class="k">${</span><span class="nv">HOSTNAME</span><span class="k">}</span>
<span class="nv">M1_SVR_PORT</span><span class="o">=</span>8002
<span class="nv">M2_SVR_NAME</span><span class="o">=</span>M2
<span class="nv">M2_SVR_ADDR</span><span class="o">=</span><span class="k">${</span><span class="nv">HOSTNAME</span><span class="k">}</span>
<span class="nv">M2_SVR_PORT</span><span class="o">=</span>8003
<span class="nv">CLUSTER_NAME</span><span class="o">=</span>myCluster

<span class="nv">APP_HOME</span><span class="o">=</span>/sw/app
<span class="nv">APP_1</span><span class="o">=</span>testApp
<span class="nv">APP_2</span><span class="o">=</span>PostDataTest


<span class="c"># (1) ResponseFile</span>
<span class="c"># https://docs.oracle.com/en/middleware/fusion-middleware/12.2.1.4/ouirf/sample-response-files-silent-installation-and-deinstallation.html#GUID-65B11C03-B559-41F1-B9B4-B7276491E580</span>

<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh"> &gt; </span><span class="k">${</span><span class="nv">BASEDIR</span><span class="k">}</span><span class="sh">/rsp
[ENGINE]
Response File Version=1.0.0.0.0
 
[GENERIC]
ORACLE_HOME=</span><span class="k">${</span><span class="nv">WLS_INSTALL_PATH</span><span class="k">}</span><span class="sh">
INSTALL_TYPE=WebLogic Server
DECLINE_SECURITY_UPDATES=true
SECURITY_UPATES_VIA_MYORACLESUPPORT=false
</span><span class="no">EOF


</span><span class="c"># (2) Inventory</span>
<span class="c"># https://docs.oracle.com/en/middleware/fusion-middleware/12.2.1.4/ouirf/using-oracle-universal-installer-silent-mode.html#GUID-756E3FD9-4094-412F-9BEB-72C5FD51056B</span>
<span class="c"># * inventory.loc 파일 샘플은 문서에 없음</span>

<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh"> &gt; </span><span class="k">${</span><span class="nv">BASEDIR</span><span class="k">}</span><span class="sh">/loc
inventory_loc=</span><span class="k">${</span><span class="nv">INVENTORY_PATH</span><span class="k">}</span><span class="sh">
inst_group=</span><span class="k">${</span><span class="nv">INVENTORY_GROUP</span><span class="k">}</span><span class="sh">
</span><span class="no">EOF


</span><span class="c"># (3) Installation</span>
<span class="c"># https://docs.oracle.com/en/middleware/fusion-middleware/12.2.1.4/ouirf/using-oracle-universal-installer-silent-mode.html#GUID-5F06D02F-6D71-45B9-BF41-5D5759D31958</span>

<span class="k">${</span><span class="nv">JAVA_HOME</span><span class="k">}</span>/bin/java <span class="nt">-jar</span> <span class="k">${</span><span class="nv">WLS_INSTALL_FILE</span><span class="k">}</span> <span class="nt">-silent</span> <span class="nt">-responseFile</span> <span class="k">${</span><span class="nv">BASEDIR</span><span class="k">}</span>/rsp <span class="nt">-invPtrLoc</span> <span class="k">${</span><span class="nv">BASEDIR</span><span class="k">}</span>/loc
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p><br></p>

<h3 id="32-domain">3.2 Domain</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td>
<td class="rouge-code"><pre><span class="c"># (4) Domain</span>
<span class="c"># https://docs.oracle.com/en/middleware/standalone/weblogic-server/14.1.1.0/wlstg/domains.html#GUID-5FC3AA22-BCB0-4F98-801A-8EBC5E05DC6A</span>

<span class="k">${</span><span class="nv">WLS_INSTALL_PATH</span><span class="k">}</span>/wlserver/common/bin/wlst.sh <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
readTemplate('</span><span class="k">${</span><span class="nv">WLS_INSTALL_PATH</span><span class="k">}</span><span class="sh">/wlserver/common/templates/wls/wls.jar')

# https://docs.oracle.com/middleware/1213/wls/WLSTC/reference.htm#WLSTC314
setOption('JavaHome', '</span><span class="k">${</span><span class="nv">JAVA_HOME</span><span class="k">}</span><span class="sh">');
setOption('ServerStartMode', 'prod')
setOption('OverwriteDomain', 'true')

cd('/')
cd('Security/base_domain/User/</span><span class="k">${</span><span class="nv">ADM_USERNAME</span><span class="k">}</span><span class="sh">')
cmo.setPassword('</span><span class="k">${</span><span class="nv">ADM_PASSWORD</span><span class="k">}</span><span class="sh">')

cd('Servers/AdminServer')
set('ListenAddress','</span><span class="k">${</span><span class="nv">ADM_ADDR</span><span class="k">}</span><span class="sh">')
set('ListenPort', </span><span class="k">${</span><span class="nv">ADM_PORT</span><span class="k">}</span><span class="sh">)

writeDomain('</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">')
closeTemplate()

exit()
</span><span class="no">EOF
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p><br></p>

<h3 id="33-startup-adminserver">3.3 Startup AdminServer</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td>
<td class="rouge-code"><pre><span class="c"># (5) Create boot.properties</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh"> &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/boot.properties
username=</span><span class="k">${</span><span class="nv">ADM_USERNAME</span><span class="k">}</span><span class="sh">
password=</span><span class="k">${</span><span class="nv">ADM_PASSWORD</span><span class="k">}</span><span class="sh">
</span><span class="no">EOF


</span><span class="c"># (6) Start-up AdminServer</span>
<span class="c"># https://unix.stackexchange.com/questions/405250/passing-and-setting-variables-in-a-heredoc</span>

<span class="nv">DATE</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> +%Y%m%d_%H%M%S<span class="si">)</span>
<span class="nv">tmpStdFile</span><span class="o">=</span>/tmp/AdminServer.<span class="k">${</span><span class="nv">DATE</span><span class="k">}</span>
<span class="nb">nohup</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/bin/startWebLogic.sh <span class="s2">"-Dweblogic.system.BootIdentityFile=</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="s2">/boot.properties"</span> <span class="o">&gt;</span> <span class="k">${</span><span class="nv">tmpStdFile</span><span class="k">}</span> 2&gt;&amp;1 &amp;

bash <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
while true
do
 R="</span><span class="se">\$</span><span class="sh">(grep "RUNNING mode" </span><span class="k">${</span><span class="nv">tmpStdFile</span><span class="k">}</span><span class="sh">)"
 if [ "x</span><span class="se">\$</span><span class="sh">{R}" == "x" ]; then
  sleep 3
  echo "Sleeping for 3 Seconds"
  else
  echo "AdminServer has Started"
  break;
 fi
done
</span><span class="no">EOF
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p><br></p>

<h3 id="34-create-managed-server">3.4 Create Managed Server</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td>
<td class="rouge-code"><pre><span class="c"># (7) Create Managed Servers</span>
<span class="c"># https://oracle-base.com/articles/web/wlst-create-managed-server</span>

<span class="nb">.</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/bin/setDomainEnv.sh
java weblogic.WLST <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
connect('</span><span class="k">${</span><span class="nv">ADM_USERNAME</span><span class="k">}</span><span class="sh">','</span><span class="k">${</span><span class="nv">ADM_PASSWORD</span><span class="k">}</span><span class="sh">','</span><span class="k">${</span><span class="nv">ADM_ADDR</span><span class="k">}</span><span class="sh">:</span><span class="k">${</span><span class="nv">ADM_PORT</span><span class="k">}</span><span class="sh">')
edit()
startEdit()

## Create Managed
cd('/')
cmo.createServer('</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="sh">')
cd('/Servers/</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="sh">')
cmo.setListenAddress('</span><span class="k">${</span><span class="nv">M1_SVR_ADDR</span><span class="k">}</span><span class="sh">')
cmo.setListenPort(</span><span class="k">${</span><span class="nv">M1_SVR_PORT</span><span class="k">}</span><span class="sh">)

cd('/Servers/</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="sh">/Log/</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="sh">')
cmo.setLogFileSeverity("Info")
cmo.setStdoutSeverity("Info")
cmo.setDomainLogBroadcastSeverity("Off")
cmo.setRotationType("byTime")

cd('/Servers/</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="sh">/WebServer/</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="sh">/WebServerLog/</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="sh">')
cmo.setNumberOfFilesLimited(True)
cmo.setRotationType("byTime")

cd('/')
cmo.createServer('</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="sh">')
cd('/Servers/</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="sh">')
cmo.setListenAddress('</span><span class="k">${</span><span class="nv">M2_SVR_ADDR</span><span class="k">}</span><span class="sh">')
cmo.setListenPort(</span><span class="k">${</span><span class="nv">M2_SVR_PORT</span><span class="k">}</span><span class="sh">)

cd('/Servers/</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="sh">/Log/</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="sh">')
cmo.setLogFileSeverity("Info")
cmo.setStdoutSeverity("Info")
cmo.setDomainLogBroadcastSeverity("Off")
cmo.setRotationType("byTime")

cd('/Servers/</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="sh">/WebServer/</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="sh">/WebServerLog/</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="sh">')
cmo.setNumberOfFilesLimited(True)
cmo.setRotationType("byTime")

save()
activate()
disconnect()
exit()
</span><span class="no">EOF
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p><br></p>

<h3 id="35-cluster">3.5 Cluster</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td>
<td class="rouge-code"><pre><span class="c"># (8) Assign Managed Server to Cluster</span>
<span class="c"># https://oracle-base.com/articles/web/wlst-create-managed-server</span>
<span class="c"># https://oracle-base.com/articles/web/wlst-create-cluster</span>

<span class="nb">.</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/bin/setDomainEnv.sh
java weblogic.WLST <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
connect('</span><span class="k">${</span><span class="nv">ADM_USERNAME</span><span class="k">}</span><span class="sh">','</span><span class="k">${</span><span class="nv">ADM_PASSWORD</span><span class="k">}</span><span class="sh">','</span><span class="k">${</span><span class="nv">ADM_ADDR</span><span class="k">}</span><span class="sh">:</span><span class="k">${</span><span class="nv">ADM_PORT</span><span class="k">}</span><span class="sh">')
edit()
startEdit()

## Create Cluster
cd('/')
cmo.createCluster('</span><span class="k">${</span><span class="nv">CLUSTER_NAME</span><span class="k">}</span><span class="sh">')
cd('/Clusters/</span><span class="k">${</span><span class="nv">CLUSTER_NAME</span><span class="k">}</span><span class="sh">')
cmo.setClusterMessagingMode('unicast')

## Assign Managed to Cluster
cd('/')
cd('/Servers/</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="sh">')
cmo.setCluster(getMBean('/Clusters/</span><span class="k">${</span><span class="nv">CLUSTER_NAME</span><span class="k">}</span><span class="sh">'))

cd('/')
cd('/Servers/</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="sh">')
cmo.setCluster(getMBean('/Clusters/</span><span class="k">${</span><span class="nv">CLUSTER_NAME</span><span class="k">}</span><span class="sh">'))

save()
activate()
disconnect()
exit()
</span><span class="no">EOF
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p><br></p>

<h3 id="36-deploy-app">3.6 Deploy App</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td>
<td class="rouge-code"><pre><span class="c"># (9) Deploy App</span>
<span class="c"># https://docs.oracle.com/middleware/1213/wls/WLSTC/reference.htm#WLSTC200</span>
<span class="nb">.</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/bin/setDomainEnv.sh
java weblogic.WLST <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
connect('</span><span class="k">${</span><span class="nv">ADM_USERNAME</span><span class="k">}</span><span class="sh">','</span><span class="k">${</span><span class="nv">ADM_PASSWORD</span><span class="k">}</span><span class="sh">','</span><span class="k">${</span><span class="nv">ADM_ADDR</span><span class="k">}</span><span class="sh">:</span><span class="k">${</span><span class="nv">ADM_PORT</span><span class="k">}</span><span class="sh">')
edit()
startEdit()

deploy(appName='</span><span class="k">${</span><span class="nv">APP_1</span><span class="k">}</span><span class="sh">', path='</span><span class="k">${</span><span class="nv">APP_HOME</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">APP_1</span><span class="k">}</span><span class="sh">', targets='</span><span class="k">${</span><span class="nv">CLUSTER_NAME</span><span class="k">}</span><span class="sh">', stageMode='nostage', block='true')
deploy(appName='</span><span class="k">${</span><span class="nv">APP_2</span><span class="k">}</span><span class="sh">', path='</span><span class="k">${</span><span class="nv">APP_HOME</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">APP_2</span><span class="k">}</span><span class="sh">', targets='</span><span class="k">${</span><span class="nv">CLUSTER_NAME</span><span class="k">}</span><span class="sh">', stageMode='nostage', block='true')
startApplication('</span><span class="k">${</span><span class="nv">APP_1</span><span class="k">}</span><span class="sh">')
startApplication('</span><span class="k">${</span><span class="nv">APP_2</span><span class="k">}</span><span class="sh">')

#stopApplication('</span><span class="k">${</span><span class="nv">APP_1</span><span class="k">}</span><span class="sh">')
#stopApplication('</span><span class="k">${</span><span class="nv">APP_2</span><span class="k">}</span><span class="sh">')
#undeploy(appName='</span><span class="k">${</span><span class="nv">APP_1</span><span class="k">}</span><span class="sh">')
#undeploy(appName='</span><span class="k">${</span><span class="nv">APP_2</span><span class="k">}</span><span class="sh">')

save()
activate()
disconnect()
exit()
</span><span class="no">EOF
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p><br></p>

<h3 id="37-create-instances-scripts">3.7. Create Instances Scripts</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
</pre></td>
<td class="rouge-code"><pre><span class="c"># (10) Create Instance Scripts</span>
<span class="c"># AdminServer (start, stop, log, ps)</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">"</span><span class="no">EOF</span><span class="sh">" &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/startA.sh
#!/bin/sh
DOMAIN_NAME=#DOMAIN_NAME#
DOMAIN_HOME=#DOMAIN_HOME#
SERVER_NAME=#SERVER_NAME#
SERVER_PORT=#SERVER_PORT#
BOOT_PROPERTIES=</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/boot.properties

LOG_HOME=</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/logs
NOHUP_LOG=</span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh">/nohup
GC_LOG=</span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh">/gc
HEAPDUMP_DIR=</span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh">/heapdump
LOG_TIME=</span><span class="si">$(</span><span class="nb">date</span> +%y%m%d_%H%M<span class="si">)</span><span class="sh">

##### Make Path #####
mkdir -p </span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh"> </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh"> </span><span class="k">${</span><span class="nv">GC_LOG</span><span class="k">}</span><span class="sh"> </span><span class="k">${</span><span class="nv">HEAPDUMP_DIR</span><span class="k">}</span><span class="sh">
###################

##### User Check #####
USER=#OS_USERNAME#
if [ "</span><span class="nv">$USER</span><span class="sh">" != </span><span class="si">$(</span>/usr/bin/whoami<span class="si">)</span><span class="sh"> ]; then
     echo "* you do not have permission. *"
     exit;
fi
####################

## Process Check ##
WAS_PID=</span><span class="si">$(</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/psA.sh<span class="si">)</span><span class="sh">
if [ "</span><span class="nv">$WAS_PID</span><span class="sh">" != "" ]; then
     echo "Server already Started."
     exit;
fi
###################

##### gc log rotation #####
mv </span><span class="k">${</span><span class="nv">GC_LOG</span><span class="k">}</span><span class="sh">/gc_</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out </span><span class="k">${</span><span class="nv">GC_LOG</span><span class="k">}</span><span class="sh">/gc_</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out.</span><span class="k">${</span><span class="nv">LOG_TIME</span><span class="k">}</span><span class="sh">
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -verbose:gc -Xloggc:</span><span class="k">${</span><span class="nv">GC_LOG</span><span class="k">}</span><span class="sh">/gc_</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out"
######################

##### Heap dump #####
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=</span><span class="k">${</span><span class="nv">HEAPDUMP_DIR</span><span class="k">}</span><span class="sh">"
####################

JAVA_OPTIONS="</span><span class="k">${</span><span class="nv">JAVA_OPTIONS</span><span class="k">}</span><span class="sh"> -Dweblogic.system.BootIdentityFile=</span><span class="k">${</span><span class="nv">BOOT_PROPERTIES</span><span class="k">}</span><span class="sh">"
export JAVA_OPTIONS

USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -D</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">"
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -Dserver.name=</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh"> -Dserver.port=</span><span class="k">${</span><span class="nv">SERVER_PORT</span><span class="k">}</span><span class="sh">"
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -Xms1024m -Xmx1024m -XX:PermSize=256m -XX:MaxPermSize=256m"
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false -Dweblogic.wsee.skip.async.response=true"
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -D_Offline_FileDataArchive=true -Dweblogic.connector.ConnectionPoolProfilingEnabled=false -Dcom.bea.wlw.netui.disableInstrumentation=true"
export USER_MEM_ARGS

mv </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out.</span><span class="k">${</span><span class="nv">LOG_TIME</span><span class="k">}</span><span class="sh">
nohup </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/bin/startWebLogic.sh &gt; </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out 2&gt;&amp;1 &amp;
#sleep 1
#tail -f </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out
</span><span class="no">EOF


</span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">"</span><span class="no">EOF</span><span class="sh">" &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/stopA.sh
#!/bin/sh
DOMAIN_HOME=#DOMAIN_HOME#
SERVER_ADDR=#SERVER_ADDR#
SERVER_PORT=#SERVER_PORT#

. </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/bin/setDomainEnv.sh

##### User Check #####
USER=#OS_USERNAME#
if [ "</span><span class="nv">$USER</span><span class="sh">" != </span><span class="si">$(</span>/usr/bin/whoami<span class="si">)</span><span class="sh"> ]; then
     echo "* you do not have permission. *"
     exit;
fi
####################

## Process Check ##
WAS_PID=</span><span class="si">$(</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/psA.sh<span class="si">)</span><span class="sh">
if [ "</span><span class="nv">$WAS_PID</span><span class="sh">" == "" ]; then
     echo "Server already Stopped."
     exit;
fi
###################

java weblogic.WLST &lt;&lt; INNER_EOF
connect(url='</span><span class="k">${</span><span class="nv">SERVER_ADDR</span><span class="k">}</span><span class="sh">:</span><span class="k">${</span><span class="nv">SERVER_PORT</span><span class="k">}</span><span class="sh">')
shutdown(force='true')
exit()
INNER_EOF
</span><span class="no">EOF


</span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">"</span><span class="no">EOF</span><span class="sh">" &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/logA.sh
#!/bin/sh
DOMAIN_HOME=#DOMAIN_HOME#
SERVER_NAME=#SERVER_NAME#

LOG_HOME=</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/logs
NOHUP_LOG=</span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh">/nohup
tail -10f </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out
</span><span class="no">EOF


</span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">"</span><span class="no">EOF</span><span class="sh">" &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/psA.sh
#!/bin/sh
SERVER_NAME=#SERVER_NAME#
ps -ef | grep "java" | grep "weblogic.Server" | grep "D</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">"
</span><span class="no">EOF

</span><span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#OS_USERNAME#|</span><span class="k">${</span><span class="nv">OS_USERNAME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*</span>A.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#DOMAIN_NAME#|</span><span class="k">${</span><span class="nv">DOMAIN_NAME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*</span>A.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#DOMAIN_HOME#|</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*</span>A.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_NAME#|AdminServer|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*</span>A.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_ADDR#|</span><span class="k">${</span><span class="nv">ADM_ADDR</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*</span>A.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_PORT#|</span><span class="k">${</span><span class="nv">ADM_PORT</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*</span>A.sh


<span class="c"># Managed Server (start, stop, log, ps)</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">"</span><span class="no">EOF</span><span class="sh">" &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/startM.sh
#!/bin/sh
DOMAIN_NAME=#DOMAIN_NAME#
DOMAIN_HOME=#DOMAIN_HOME#
SERVER_NAME=#SERVER_NAME#
SERVER_PORT=#SERVER_PORT#
ADM_URL="t3://#ADM_ADDR#:#ADM_PORT#"
BOOT_PROPERTIES=</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/boot.properties

LOG_HOME=</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/logs
NOHUP_LOG=</span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh">/nohup
GC_LOG=</span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh">/gc
HEAPDUMP_DIR=</span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh">/heapdump
LOG_TIME=</span><span class="si">$(</span><span class="nb">date</span> +%y%m%d_%H%M<span class="si">)</span><span class="sh">

##### Make Path #####
mkdir -p </span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh"> </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh"> </span><span class="k">${</span><span class="nv">GC_LOG</span><span class="k">}</span><span class="sh"> </span><span class="k">${</span><span class="nv">HEAPDUMP_DIR</span><span class="k">}</span><span class="sh">
###################

##### User Check #####
USER=#OS_USERNAME#
if [ "</span><span class="nv">$USER</span><span class="sh">" != </span><span class="si">$(</span>/usr/bin/whoami<span class="si">)</span><span class="sh"> ]; then
     echo "* you do not have permission. *"
     exit;
fi
####################

## Process Check ##
WAS_PID=</span><span class="si">$(</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/ps<span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span>.sh<span class="si">)</span><span class="sh">
if [ "</span><span class="nv">$WAS_PID</span><span class="sh">" != "" ]; then
     echo "Server already Started."
     exit;
fi
###################

##### gc log rotation #####
mv </span><span class="k">${</span><span class="nv">GC_LOG</span><span class="k">}</span><span class="sh">/gc_</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out </span><span class="k">${</span><span class="nv">GC_LOG</span><span class="k">}</span><span class="sh">/gc_</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out.</span><span class="k">${</span><span class="nv">LOG_TIME</span><span class="k">}</span><span class="sh">
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -verbose:gc -Xloggc:</span><span class="k">${</span><span class="nv">GC_LOG</span><span class="k">}</span><span class="sh">/gc_</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out"
######################

##### Heap dump #####
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=</span><span class="k">${</span><span class="nv">HEAPDUMP_DIR</span><span class="k">}</span><span class="sh">"
####################

JAVA_OPTIONS="</span><span class="k">${</span><span class="nv">JAVA_OPTIONS</span><span class="k">}</span><span class="sh"> -Dweblogic.system.BootIdentityFile=</span><span class="k">${</span><span class="nv">BOOT_PROPERTIES</span><span class="k">}</span><span class="sh">"
export JAVA_OPTIONS

USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -D</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">"
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -Dserver.name=</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh"> -Dserver.port=</span><span class="k">${</span><span class="nv">SERVER_PORT</span><span class="k">}</span><span class="sh">"
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -Xms1024m -Xmx1024m -XX:PermSize=256m -XX:MaxPermSize=256m"
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false -Dweblogic.wsee.skip.async.response=true"
USER_MEM_ARGS="</span><span class="k">${</span><span class="nv">USER_MEM_ARGS</span><span class="k">}</span><span class="sh"> -D_Offline_FileDataArchive=true -Dweblogic.connector.ConnectionPoolProfilingEnabled=false -Dcom.bea.wlw.netui.disableInstrumentation=true"
export USER_MEM_ARGS

mv </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out.</span><span class="k">${</span><span class="nv">LOG_TIME</span><span class="k">}</span><span class="sh">
nohup </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/bin/startManagedWebLogic.sh </span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh"> </span><span class="k">${</span><span class="nv">ADM_URL</span><span class="k">}</span><span class="sh">&gt; </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out 2&gt;&amp;1 &amp;
#sleep 1
#tail -f </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out
</span><span class="no">EOF


</span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">"</span><span class="no">EOF</span><span class="sh">" &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/stopM.sh
#!/bin/sh
DOMAIN_HOME=#DOMAIN_HOME#
SERVER_NAME=#SERVER_NAME#
SERVER_ADDR=#SERVER_ADDR#
SERVER_PORT=#SERVER_PORT#

. </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/bin/setDomainEnv.sh

##### User Check #####
USER=#OS_USERNAME#
if [ "</span><span class="nv">$USER</span><span class="sh">" != </span><span class="si">$(</span>/usr/bin/whoami<span class="si">)</span><span class="sh"> ]; then
     echo "* you do not have permission. *"
     exit;
fi
####################

## Process Check ##
WAS_PID=</span><span class="si">$(</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/ps<span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span>.sh<span class="si">)</span><span class="sh">
if [ "</span><span class="nv">$WAS_PID</span><span class="sh">" == "" ]; then
     echo "Server already Stopped."
     exit;
fi
###################

java weblogic.WLST &lt;&lt; INNER_EOF
connect(url='</span><span class="k">${</span><span class="nv">SERVER_ADDR</span><span class="k">}</span><span class="sh">:</span><span class="k">${</span><span class="nv">SERVER_PORT</span><span class="k">}</span><span class="sh">')
shutdown(force='true')
exit()
INNER_EOF
</span><span class="no">EOF


</span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">"</span><span class="no">EOF</span><span class="sh">" &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/logM.sh
#!/bin/sh
DOMAIN_HOME=#DOMAIN_HOME#
SERVER_NAME=#SERVER_NAME#

LOG_HOME=</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/logs
NOHUP_LOG=</span><span class="k">${</span><span class="nv">LOG_HOME</span><span class="k">}</span><span class="sh">/nohup
tail -10f </span><span class="k">${</span><span class="nv">NOHUP_LOG</span><span class="k">}</span><span class="sh">/</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">.out
</span><span class="no">EOF


</span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">"</span><span class="no">EOF</span><span class="sh">" &gt; </span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="sh">/psM.sh
#!/bin/sh
SERVER_NAME=#SERVER_NAME#
ps -ef | grep "java" | grep "weblogic.Server" | grep "D</span><span class="k">${</span><span class="nv">SERVER_NAME</span><span class="k">}</span><span class="sh">"
</span><span class="no">EOF


</span>&lt;br&gt;&lt;br&gt;


<span class="nb">cp</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/startM.sh <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/start<span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">cp</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/stopM.sh <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/stop<span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">cp</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/logM.sh <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/log<span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">cp</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/psM.sh <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/ps<span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh

<span class="nb">cp</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/startM.sh <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/start<span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">cp</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/stopM.sh <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/stop<span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">cp</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/logM.sh <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/log<span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">cp</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/psM.sh <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/ps<span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh

<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#OS_USERNAME#|</span><span class="k">${</span><span class="nv">OS_USERNAME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#DOMAIN_NAME#|</span><span class="k">${</span><span class="nv">DOMAIN_NAME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#DOMAIN_HOME#|</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_NAME#|</span><span class="k">${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_ADDR#|</span><span class="k">${</span><span class="nv">M1_SVR_ADDR</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_PORT#|</span><span class="k">${</span><span class="nv">M1_SVR_PORT</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#ADM_ADDR#|</span><span class="k">${</span><span class="nv">ADM_ADDR</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#ADM_PORT#|</span><span class="k">${</span><span class="nv">ADM_PORT</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M1_SVR_NAME</span><span class="k">}</span>.sh

<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#OS_USERNAME#|</span><span class="k">${</span><span class="nv">OS_USERNAME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#DOMAIN_NAME#|</span><span class="k">${</span><span class="nv">DOMAIN_NAME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#DOMAIN_HOME#|</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_NAME#|</span><span class="k">${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_ADDR#|</span><span class="k">${</span><span class="nv">M2_SVR_ADDR</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#SERVER_PORT#|</span><span class="k">${</span><span class="nv">M2_SVR_PORT</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#ADM_ADDR#|</span><span class="k">${</span><span class="nv">ADM_ADDR</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s|#ADM_PORT#|</span><span class="k">${</span><span class="nv">ADM_PORT</span><span class="k">}</span><span class="s2">|g"</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*${</span><span class="nv">M2_SVR_NAME</span><span class="k">}</span>.sh

<span class="nb">chmod </span>700 <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*</span>.sh
<span class="nb">rm</span> <span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/<span class="k">*</span>M.sh
</pre></td>
</tr></tbody></table></code></pre></div></div>


    </div>

</article>
<div class="post-nav">
<a class="previous" href="/weblogic/All-In-One-Script-For-11gR1" title="[WebLogic] All In One Script For 11gR1">(이전) [WebLogic] All In One Script For...</a><a class="next" href="/weblogic/All-In-One-Script-For-12cR2" title="[WebLogic] All In One Script For 12cR2">[WebLogic] All In One Script For... (다음)</a>
</div>
<div class="post-related">
      <div>Related Articles</div>
      <ul>
        <li><a class="post-link" href="/putty/PuttyConnectWithCommandLine" title="[Putty] Putty Connect Host With CLI">[Putty] Putty Connect Host With CLI</a></li>
<li><a class="post-link" href="/webtier/Oracle-HTTP-Server-14c-Release-Information" title="[WebTier/OHS] Oracle HTTP Server 14c Release Information">[WebTier/OHS] Oracle HTTP Server 14c Release Information</a></li>
<li><a class="post-link" href="/webtier/mod_ossl-and-openssl" title="[WebTier/OHS] mod_ossl 과 openssl">[WebTier/OHS] mod_ossl 과 openssl</a></li>
<li><a class="post-link" href="/weblogic/Uploading-File-With-Servlet" title="[WebLogic] Uploading Files with Java Servlet Tech">[WebLogic] Uploading Files with Java Servlet Tech</a></li>
</ul>
    </div>
<div class="post-comments"></div></section>
</div>


  </section>
  <section class="sidebar" style="margin-left: 15px;">
    <!-- Get sidebar items --><style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">TOC</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
</section>
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
<div>Copyright 2015-2024. DongHyun Kim All data cannot be copied without permission.</div>
      <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
      generator." href="http://jekyllrb.com/">Jekyll</a> &amp; <a title="Yat, yet
      another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
      <div class="footer-col rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a>
</div>
    </div>
  </div>
</footer>
</body>
</html>
