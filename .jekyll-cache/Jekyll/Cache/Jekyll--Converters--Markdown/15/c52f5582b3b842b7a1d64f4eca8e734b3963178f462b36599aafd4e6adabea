I"‡|<h2 id="1-ê°œìš”">1. ê°œìš”</h2>

<p>í…ŒìŠ¤íŠ¸ì™€ ë””ë²„ê·¸ ë¡œê·¸ë¥¼ í†µí•´ HttpSession, Cookie, JSESSIONID ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ê³µë¶€í•œë‹¤.</p>
<p style="height:40px;"></p>
<h2 id="2-cookie-name-í…ŒìŠ¤íŠ¸">2. Cookie-Name í…ŒìŠ¤íŠ¸</h2>

<h3 id="21-httpsessionê³¼-cookie-jsessionid">2.1 HttpSessionê³¼ Cookie, JSESSIONID</h3>

<p>í´ë¼ì´ì–¸íŠ¸ì˜ ë¸Œë¼ìš°ì €ì—ì„œ ì‚¬ìš©í•˜ëŠ” HTTP í†µì‹ ì€ stateless(ìƒíƒœ ë¬´ì§€ì†)ë°©ì‹ì…ë‹ˆë‹¤.</p>

<p>statelessëŠ” í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ì˜ ìš”ì²­(request)ê³¼ ì„œë²„ì˜ ì‘ë‹µ(response) í›„ì—ëŠ” ì†Œì¼“ì„ ëŠëŠ” ë‹¨ë°œì„± í†µì‹  ë°©ì‹ì…ë‹ˆë‹¤.</p>

<p>ì—¬ê¸°ì„œ ì„¸ì…˜ì´ë‚˜ ì¿ í‚¤ ë“±ì„ ì´ìš©í•˜ì—¬ ì„œë²„ëŠ” ì‹ ê·œ í´ë¼ì´ì–¸íŠ¸ì™€ ì˜¤ë˜ëœ í´ë¼ì´ì–¸íŠ¸ë¥¼ êµ¬ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p style="height:20px;"></p>
<h4 id="1-httpsession">(1). HttpSession</h4>

<p>ì›¹ ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ì˜ PCì— êµ¬ë³„ë˜ëŠ” ì„¸ì…˜ ID(ê¸´ ë¬¸ìì—´)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>

<p>í´ë¼ì´ì–¸íŠ¸ê°€ ì›¹ ì„œë²„ì— ë‹¤ì‹œ ìš”ì²­ ì‹œ, ì„œë²„ëŠ” ì´ ì„¸ì…˜ ì¡´ì¬ì—¬ë¶€ë¡œ ì‹ ê·œ ìœ ì €ì¸ì§€, ì´ë¯¸ ë¡œê·¸ì¸í•œ ìœ ì €ì¸ì§€ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p style="height:20px;"></p>
<h4 id="2-cookie">(2). Cookie</h4>

<p>cookieëŠ” íŒŒì¼ë¡œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ë©€ì›¨ì–´ ë“±ì˜ ì•…ì„± í”„ë¡œê·¸ë¨ìœ¼ë¡œ ìœ ì¶œë˜ì–´ í”¼í•´ê°€ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ì„¸ì…˜ì€ ì¿ í‚¤ì— ì €ì¥ë˜ëŠ” ì •ë³´ë“¤ì„ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ëŒ€ì‹  ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì˜ ë©”ëª¨ë¦¬ ì˜ì—­ì— ë³µì‚¬í•©ë‹ˆë‹¤.</p>

<p>í•˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ ìˆ˜ë§Œí¼ ì„¸ì…˜ì´ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì°¨ì§€í•©ë‹ˆë‹¤.</p>
<p style="height:20px;"></p>
<h4 id="3-jsessionid">(3). JSESSIONID</h4>

<p>JSESSIONIDëŠ” WASì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.</p>

<p>ì¼ë°˜ì ì¸ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ HttpSessionì´ë‚˜ Cookieë¡œ í´ë¼ì´ì–¸íŠ¸ë¥¼ êµ¬ë³„í•©ë‹ˆë‹¤.</p>

<p>í•˜ì§€ë§Œ WASì—ëŠ” ì´ëŸ¬í•œ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì—¬ëŸ¬ê°œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.</p>

<p>ì´ í•˜ë‚˜í•˜ë‚˜ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ë“¤ë„ í´ë¼ì´ì–¸íŠ¸ë¥¼ êµ¬ë³„í•˜ê¸° ìœ„í•´ ìœ ë‹ˆí¬í•œ JSESSIONIDë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ì—¬ êµ¬ë³„í•©ë‹ˆë‹¤.</p>
<p style="height:40px;"></p>
<h3 id="22-apacheì—-cookie-nameì„-testsessionìœ¼ë¡œ-ë³€ê²½í•˜ê³ -cookie_detailjsp-ìš”ì²­---1íšŒ">2.2 apacheì— cookie-nameì„ TESTSESSIONìœ¼ë¡œ ë³€ê²½í•˜ê³  cookie_detail.jsp ìš”ì²­ - 1íšŒ</h3>

<h4 id="1-ì›¹ì„œë²„ì˜-ì›¹ë¡œì§-ëª¨ë“ˆì€-weblogicclusterì˜-íŒŒë¼ë©”í„°ë¥¼-í™•ì¸í•©ë‹ˆë‹¤">(1). ì›¹ì„œë²„ì˜ ì›¹ë¡œì§ ëª¨ë“ˆì€ WebLogicClusterì˜ íŒŒë¼ë©”í„°ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">[</span>debug] BaseProxy.cpp<span class="o">(</span>1915<span class="o">)</span>: <span class="o">[</span>client 192.168.56.1] weblogic: parseServerList: Socket Address hostnames <span class="s1">'testlinux1.com:12001,testlinux2.com:12001'</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="2-ì²«ë²ˆì§¸-ì„œë²„testlinux1comê°€-alive-ìƒíƒœì¸ì§€-í™•ì¸í•©ë‹ˆë‹¤">(2). ì²«ë²ˆì§¸ ì„œë²„(testlinux1.com)ê°€ Alive ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(1979): [client 192.168.56.1] weblogic: Host extracted from serverlist is [testlinux1.com]

[debug] BaseProxy.cpp(2030): [client 192.168.56.1] weblogic: parseServerList: trying IP addr 192.168.56.2

[debug] BaseProxy.cpp(2066): [client 192.168.56.1] weblogic: parseServerList: socket and connect succeeded

[debug] BaseProxy.cpp(2087): [client 192.168.56.1] weblogic: parseServerList:  IP from socket Address [192.168.56.2]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="3-ë‘ë²ˆì§¸-ì„œë²„testlinux2comê°€-alive-ìƒíƒœì¸ì§€-í™•ì¸í•©ë‹ˆë‹¤">(3). ë‘ë²ˆì§¸ ì„œë²„(testlinux2.com)ê°€ Alive ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(1979): [client 192.168.56.1] weblogic: Host extracted from serverlist is [testlinux2.com]

[debug] BaseProxy.cpp(2030): [client 192.168.56.1] weblogic: parseServerList: trying IP addr 192.168.56.3

[debug] BaseProxy.cpp(2066): [client 192.168.56.1] weblogic: parseServerList: socket and connect succeeded

[debug] BaseProxy.cpp(2087): [client 192.168.56.1] weblogic: parseServerList:  IP from socket Address [192.168.56.3]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="4-ì‘ë‹µí•œ-ì„œë²„ê°€-2ê°œì´ë¯€ë¡œ-ë…¸ë“œ-ë°°ì—´ê¸¸ì´-2ì„-ìƒì„±í•˜ê³ -ì„œë²„ë“¤ì„-í• ë‹¹í•©ë‹ˆë‹¤">(4). ì‘ë‹µí•œ ì„œë²„ê°€ 2ê°œì´ë¯€ë¡œ ë…¸ë“œ ë°°ì—´(ê¸¸ì´ 2)ì„ ìƒì„±í•˜ê³  ì„œë²„ë“¤ì„ í• ë‹¹í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>BaseProxy.cpp(3005): [client 192.168.56.1] weblogic: Initializing lastIndex=0 for a list of length=2

[Mon Jul 06 09:37:26 2015] [debug] BaseProxy.cpp(509): [client 192.168.56.1] weblogic: getListNode: created a new server node: id='testlinux1.com:12001,testlinux2.com:12001' server_name='testlinux1.com', port='80'
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="5-ì²«ë²ˆì§¸-ì„œë²„ì—-ì—°ê²°í•©ë‹ˆë‹¤">(5). ì²«ë²ˆì§¸ ì„œë²„ì— ì—°ê²°í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>[debug] ApacheProxy.cpp(2421): [client 192.168.56.1] weblogic: Trying a pooled connection for '192.168.56.2/12001/12001'

[debug] BaseProxy.cpp(3035): [client 192.168.56.1] weblogic: getPooledConn: found a host and port/securePort match

[debug] BaseProxy.cpp(3086): [client 192.168.56.1] weblogic: getPooledConn: No more connections in the pool for Host[192.168.56.2] Port[12001] SecurePort[12001]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="6-cookie_detailjsp-ì˜-2453-ë¼ì¸ì—-ì˜í•´-ì†Œì¼“-ì—°ê²°">(6). cookie_detail.jsp ì˜ 2453 ë¼ì¸ì— ì˜í•´ ì†Œì¼“ ì—°ê²°</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>[debug] ApacheProxy.cpp(2453): [client 192.168.56.1] weblogic: general list: trying connect to '192.168.56.2'/12001/12001 at line 2453 for '/webapp/cookie_detail.jsp'

[debug] URL.cpp(1785): [client 192.168.56.1] weblogic: URL::Connect: Connected successfully

[debug] URL.cpp(1824): [client 192.168.56.1] weblogic: SSL is not configured for this connection

[debug] URL.cpp(1844): [client 192.168.56.1] weblogic: Local Port of the socket is 51741

[debug] URL.cpp(1850): [client 192.168.56.1] weblogic: Remote Host 192.168.56.2 Remote Port 51741

[debug] ApacheProxy.cpp(2487): [client 192.168.56.1] weblogic: general list: created a new connection to '192.168.56.2'/12001 for '/webapp/cookie_detail.jsp', Local port:51741
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="7-ì›¹ì„œë²„ëŠ”-ë¸Œë¼ìš°ì €ë¡œë¶€í„°-http-í—¤ë”ë¥¼-ì „ë‹¬ë°›ì•„-íŒŒì‹±ì„-ìˆ˜í–‰í•©ë‹ˆë‹¤">(7). ì›¹ì„œë²„ëŠ” ë¸Œë¼ìš°ì €ë¡œë¶€í„° HTTP í—¤ë”ë¥¼ ì „ë‹¬ë°›ì•„ íŒŒì‹±ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(567): [client 192.168.56.1] weblogic: Entering method BaseProxy::sendRequest

[debug] BaseProxy.cpp(1219): [client 192.168.56.1] weblogic: Entering method BaseProxy::parse_headers
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="8-http-í—¤ë”ëŠ”-ì´-6ê°œì˜-ê°’ìœ¼ë¡œ-êµ¬ì„±ë˜ì–´-ìˆìŒì„-í™•ì¸í•©ë‹ˆë‹¤">(8). HTTP í—¤ë”ëŠ” ì´ 6ê°œì˜ ê°’ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŒì„ í™•ì¸í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(1237): [client 192.168.56.1] weblogic: No of headers =6

[info] [client 192.168.56.1] weblogic: Header from client:[Host]=[testlinux1.com]

[info] [client 192.168.56.1] weblogic: Header from client:[Connection]=[keep-alive]

[info] [client 192.168.56.1] weblogic: Header from client:[Accept]=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8]

[client 192.168.56.1] weblogic: Header from client:[User-Agent]=[Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.130 Safari/537.36]

[client 192.168.56.1] weblogic: Header from client:[Accept-Encoding]=[gzip, deflate, sdch]

[info] [client 192.168.56.1] weblogic: Header from client:[Accept-Language]=[en,ko;q=0.8,en-US;q=0.6]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="9-ì›¹ì„œë²„ëŠ”-í—¤ë”-íŒŒì‹±ì„-ëë‚´ê³ -ì›¹ë¡œì§-ì„œë²„ë¡œ-í—¤ë”ë¥¼-ì „ë‹¬í•˜ê¸°-ìœ„í•´-get-ë°©ì‹ì„-ì‚¬ìš©í•©ë‹ˆë‹¤">(9). ì›¹ì„œë²„ëŠ” í—¤ë” íŒŒì‹±ì„ ëë‚´ê³  ì›¹ë¡œì§ ì„œë²„ë¡œ í—¤ë”ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ GET ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(1413): [client 192.168.56.1] weblogic: Exiting method BaseProxy::parse_headers

[debug] BaseProxy.cpp(577): [client 192.168.56.1] weblogic: parse_client_headers is done

[debug] BaseProxy.cpp(681): [client 192.168.56.1] weblogic: Method is GET
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="10-ì›¹-ì„œë²„ëŠ”-ì›¹ë¡œì§-ì„œë²„ë¡œ-í—¤ë”ë¥¼-ì „ë‹¬í•©ë‹ˆë‹¤">(10). ì›¹ ì„œë²„ëŠ” ì›¹ë¡œì§ ì„œë²„ë¡œ í—¤ë”ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre>[info] [client 192.168.56.1] weblogic: URL::sendHeaders(): meth='GET' file='/webapp/cookie_detail.jsp' protocol='HTTP/1.1'

[info] [client 192.168.56.1] weblogic: Header to WLS: [Host]=[testlinux1.com]

[info] [client 192.168.56.1] weblogic: Header to WLS: [Accept]=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8]

[info] [client 192.168.56.1] weblogic: Header to WLS: [User-Agent]=[Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.130 Safari/537.36]

[info] [client 192.168.56.1] weblogic: Header to WLS: [Accept-Encoding]=[gzip, deflate, sdch]

[info] [client 192.168.56.1] weblogic: Header to WLS: [Accept-Language]=[en,ko;q=0.8,en-US;q=0.6]

[info] [client 192.168.56.1] weblogic: Header to WLS: [Connection]=[Keep-Alive]

[info] [client 192.168.56.1] weblogic: Header to WLS: [WL-Proxy-SSL]=[false]

[info] [client 192.168.56.1] weblogic: Header to WLS: [X-Forwarded-For]=[192.168.56.1]

[info] [client 192.168.56.1] weblogic: Header to WLS: [WL-Proxy-Client-IP]=[192.168.56.1]

[info] [client 192.168.56.1] weblogic: Header to WLS: [WL-Proxy-Client-Port]=[1640]

[info] [client 192.168.56.1] weblogic: Header to WLS: [X-WebLogic-KeepAliveSecs]=[30]

[info] [client 192.168.56.1] weblogic: Header to WLS: [X-WebLogic-Force-JVMID]=[unset]

[info] [client 192.168.56.1] weblogic: Header to WLS: [X-WebLogic-Request-ClusterInfo]=[true]
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ì²« ìš”ì²­ì´ë¯€ë¡œ JVMIDê°€ unset ì…ë‹ˆë‹¤.</p>
</blockquote>
<p style="height:20px;"></p>
<h4 id="11-ì›¹ë¡œì§-ì„œë²„ëŠ”-í—¤ë”ë¥¼-ë¶„ì„í•˜ê³ -http-200-ì½”ë“œì™€-í•¨ê»˜-ì›¹ì„œë²„ì—ê²Œ-responseí• -í˜ì´ì§€ë¥¼-ìƒì„±í•©ë‹ˆë‹¤">(11). ì›¹ë¡œì§ ì„œë²„ëŠ” í—¤ë”ë¥¼ ë¶„ì„í•˜ê³  HTTP 200 ì½”ë“œì™€ í•¨ê»˜ ì›¹ì„œë²„ì—ê²Œ RESPONSEí•  í˜ì´ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(766): [client 192.168.56.1] weblogic: About to call parseHeaders

[debug] Reader.cpp(221): [client 192.168.56.1] weblogic: Reader::fill(): first=0 last=0 toRead=4096

[debug] Reader.cpp(270): [client 192.168.56.1] weblogic: Reader::fill(): sysRecv returned 413

[debug] URL.cpp(842): [client 192.168.56.1] weblogic: URL::parseHeaders: CompleteStatusLine set to [HTTP/1.1 200 OK]

[debug] URL.cpp(844): [client 192.168.56.1] weblogic: URL::parseHeaders: StatusLine set to [200 OK]

[debug] URL.cpp(852): [client 192.168.56.1] weblogic: URL::parseHeaders: StatusLineWithoutStatusCode set to [OK]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="12-ì›¹ë¡œì§-ì„œë²„ê°€-ë§Œë“ -í—¤ë”-ì •ë³´ë¥¼-ì›¹ì„œë²„ê°€-ë°›ì•„-íŒŒì‹±í•©ë‹ˆë‹¤">(12). ì›¹ë¡œì§ ì„œë²„ê°€ ë§Œë“  í—¤ë” ì •ë³´ë¥¼ ì›¹ì„œë²„ê°€ ë°›ì•„ íŒŒì‹±í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>[info] [client 192.168.56.1] weblogic: Header from WLS:[Date]=[Mon, 06 Jul 2015 00:37:26 GMT]

[info] [client 192.168.56.1] weblogic: Header from WLS:[Content-Length]=[578]

[info] [client 192.168.56.1] weblogic: Header from WLS:[Content-Type]=[text/html;charset=UTF-8]

[info] [client 192.168.56.1] weblogic: Header from WLS:[X-WebLogic-Cluster-List]=[1104478448!testlinux1.com!12001!-1|1625602300!testlinux2.com!12001!-1]

[info] [client 192.168.56.1] weblogic: Header from WLS:[X-WebLogic-JVMID]=[1104478448]

[info] [client 192.168.56.1] weblogic: Header from WLS:[Set-Cookie]=[JSESSIONID=Zf5gy86ROihZsEMgEvASu-t4kwc6pYRxcU3KnwIL27XuzW6dAoW5!1104478448!1625602300; path=/; HttpOnly]

[info] [client 192.168.56.1] weblogic: Header from WLS:[X-WebLogic-Cluster-Hash]=[UGYKWofLj2uHaIuW02FSaDWNmdU]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="13-í—¤ë”-íŒŒì‹±ì„-ëë‚´ê³ -200-ok-ìƒíƒœë¡œ-í‘œí˜„í•©ë‹ˆë‹¤">(13). í—¤ë” íŒŒì‹±ì„ ëë‚´ê³  200 OK ìƒíƒœë¡œ í‘œí˜„í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>[debug] URL.cpp(966): [client 192.168.56.1] weblogic: parsed all headers OK

[debug] BaseProxy.cpp(840): [client 192.168.56.1] weblogic: Exiting method BaseProxy::sendRequest

[debug] ApacheProxy.cpp(244): [client 192.168.56.1] weblogic: sendResponse() : r-&gt;status = '200'
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="14-ì´-ë¶€ë¶„ì€-ê°€ì¥-ë§ˆì§€ë§‰ì—-ì ‘ì†í•œ-ì„œë²„ë¥¼-í‘œì‹œí•˜ëŠ”-ê²ƒ-ê°™ìŠµë‹ˆë‹¤">(14). ì´ ë¶€ë¶„ì€, ê°€ì¥ ë§ˆì§€ë§‰ì— ì ‘ì†í•œ ì„œë²„ë¥¼ í‘œì‹œí•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(345): [client 192.168.56.1] weblogic: Free old srvrList, id=[testlinux1.com:12001,testlinux2.com:12001], server_name=[testlinux1.com], server_port=[80]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="15-í—¤ë”ì—ì„œ-í´ëŸ¬ìŠ¤í„°-ëª©ë¡-jvm-idë¥¼-êµ¬í•˜ê³ -íŒŒì‹±í•©ë‹ˆë‹¤">(15). í—¤ë”ì—ì„œ í´ëŸ¬ìŠ¤í„° ëª©ë¡, JVM IDë¥¼ êµ¬í•˜ê³  íŒŒì‹±í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(2191): [client 192.168.56.1] weblogic: Parsing cluster list: 1104478448!testlinux1.com!12001!-1|1625602300!testlinux2.com!12001!-1

[debug] BaseProxy.cpp(2498): [client 192.168.56.1] weblogic: parseJVMID: Parsing JVMID '1104478448!testlinux1.com!12001!-1|1625602300!testlinux2.com!12001!-1'

[debug] BaseProxy.cpp(2550): [client 192.168.56.1] weblogic: parseJVMID: Actually parsing '1104478448!testlinux1.com!12001!-1'

[debug] BaseProxy.cpp(2643): [client 192.168.56.1] weblogic: ServerInfo struct for JVMID '1104478448' populated, Server Details are: OrigHostInfo [testlinux1.com], isOrigHostInfoDNS [1], Host [192.168.56.2], Port [12001], SecurePort [0]

[debug] BaseProxy.cpp(2498): [client 192.168.56.1] weblogic: parseJVMID: Parsing JVMID '1625602300!testlinux2.com!12001!-1'

[debug] BaseProxy.cpp(2550): [client 192.168.56.1] weblogic: parseJVMID: Actually parsing '1625602300!testlinux2.com!12001!-1'

[debug] BaseProxy.cpp(2643): [client 192.168.56.1] weblogic: ServerInfo struct for JVMID '1625602300' populated, Server Details are: OrigHostInfo [testlinux2.com], isOrigHostInfoDNS [1], Host [192.168.56.3], Port [12001], SecurePort [0]
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>testlinux1.com ì˜ JVM ID ëŠ” 1104478448</p>

  <p>testlinux2.com ì˜ JVM ID ëŠ” 1625602300</p>
</blockquote>
<p style="height:20px;"></p>
<h4 id="16-ìœ„-íŒŒì‹±ì—-ì˜í•´-ì²˜ìŒì²˜ëŸ¼-ë‘ê°œì˜-ì„œë²„ë¥¼-ìœ ì§€í•˜ê³ -ìˆìŒì„-ì•Œ-ìˆ˜-ìˆìŠµë‹ˆë‹¤">(16). ìœ„ íŒŒì‹±ì— ì˜í•´, ì²˜ìŒì²˜ëŸ¼ ë‘ê°œì˜ ì„œë²„ë¥¼ ìœ ì§€í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(3005): [client 192.168.56.1] weblogic: Initializing lastIndex=0 for a list of length=2

[debug] BaseProxy.cpp(380): [client 192.168.56.1] weblogic: ### Got a new Server List of length 2 ###

[debug] BaseProxy.cpp(382): [client 192.168.56.1] weblogic: ###Response### : Srvr# [1] = [192.168.56.2:12001:0]

[debug] BaseProxy.cpp(382): [client 192.168.56.1] weblogic: ###Response### : Srvr# [2] = [192.168.56.3:12001:0]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="17-í´ë¼ì´ì–¸íŠ¸ì˜-í—¤ë”ì—-gmt9ì‹œê°„-ì‹œê°„ì„-ë„£ìŠµë‹ˆë‹¤">(17). í´ë¼ì´ì–¸íŠ¸ì˜ í—¤ë”ì— GMT(+9ì‹œê°„) ì‹œê°„ì„ ë„£ìŠµë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>[info] [client 192.168.56.1] weblogic: Hdrs to client (add):[Date]=[Mon, 06 Jul 2015 00:37:26 GMT]
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ì´ GMT ì‹œê°„ì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì›¹ë¡œì§ ì„œë²„ê°€ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ëŠ” ì„¸ì…˜ ì •ë³´ì˜ ë§ˆì§€ë§‰ì— í¬í•¨ë©ë‹ˆë‹¤.</p>
</blockquote>
<p style="height:20px;"></p>
<h4 id="18-í´ë¼ì´ì–¸íŠ¸ì˜-í—¤ë”ì—-jsessionid-ì¿ í‚¤ë¥¼-í• ë‹¹í•©ë‹ˆë‹¤">(18). í´ë¼ì´ì–¸íŠ¸ì˜ í—¤ë”ì— JSESSIONID ì¿ í‚¤ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>[info] [client 192.168.56.1] weblogic: Hdrs to client (add):[Set-Cookie]=[JSESSIONID=Zf5gy86ROihZsEMgEvASu-t4kwc6pYRxcU3KnwIL27XuzW6dAoW5!1104478448!1625602300; path=/; HttpOnly]
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>JSESSIONID ìƒì„± ê·œì¹™ì€ {ì„¸ì…˜ ID}!{Primary Serverì˜ JDM IV}!{Secondary ì„œë²„ì˜ JVM ID} ì…ë‹ˆë‹¤.</p>

  <p>ê·¸ëŸ¬ë¯€ë¡œ ì›¹ë¡œì§ ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë§Œë“¤ì–´ì¤€ ì„¸ì…˜ IDëŠ”</p>

  <p>Zf5gy86ROihZsEMgEvASu-t4kwc6pYRxcU3KnwIL27XuzW6dAoW5 ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<p style="height:20px;"></p>
<h4 id="19-cookie_detailjspì™€-ì—°ê²°ì„-ëŠìŠµë‹ˆë‹¤">(19). cookie_detail.jspì™€ ì—°ê²°ì„ ëŠìŠµë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>[debug] BaseProxy.cpp(3124): [client 192.168.56.1] weblogic: closeConn: pooling for '192.168.56.2/12001'

[debug] BaseProxy.cpp(3138): [client 192.168.56.1] weblogic: closeConn: pooling '0'

[debug] ap_proxy.cpp(705): [client 192.168.56.1] weblogic: request [/webapp/cookie_detail.jsp] processed successfully..................
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h3 id="23-apacheì—-cookie-nameì„-testsessionìœ¼ë¡œ-ë³€ê²½í•˜ê³ -cookie_detailjsp-ìš”ì²­---2íšŒ">2.3 apacheì— cookie-nameì„ TESTSESSIONìœ¼ë¡œ ë³€ê²½í•˜ê³  cookie_detail.jsp ìš”ì²­ - 2íšŒ</h3>

<h4 id="1-ê°™ì€-í´ë¼ì´ì–¸íŠ¸ë¸Œë¼ìš°ì €ê°€-ë‹¤ì‹œ-ë˜‘ê°™ì€-í˜ì´ì§€ë¥¼-ìš”ì²­í• -ê²½ìš°-ì›¹ë¡œì§-ì²«ë²ˆì§¸-ì„œë²„ëŠ”-í´ë¼ì´ì–¸íŠ¸ì˜-http-í—¤ë”ì—ì„œ-ì‚¬ìš©-ê°€ëŠ¥í•œ-jsessionid-ì¿ í‚¤ë¥¼-ë°œê²¬í•©ë‹ˆë‹¤">(1). ê°™ì€ í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ê°€ ë‹¤ì‹œ ë˜‘ê°™ì€ í˜ì´ì§€ë¥¼ ìš”ì²­í•  ê²½ìš° ì›¹ë¡œì§ ì²«ë²ˆì§¸ ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ HTTP í—¤ë”ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ JSESSIONID ì¿ í‚¤ë¥¼ ë°œê²¬í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>[debug] ApacheProxy.cpp(1738): [client 192.168.56.1] weblogic: getPreferred: availcookie=[JSESSIONID=Zf5gy86ROihZsEMgEvASu-t4kwc6pYRxcU3KnwIL27XuzW6dAoW5!1104478448!1625602300]
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ì´ JSESSIONIDëŠ” <strong>ë‹¨ê³„ 1.2.(15)</strong>ì˜ ì¿ í‚¤ì™€ ë™ì¼í•©ë‹ˆë‹¤.</p>

  <p>í˜„ì¬ ì¿ í‚¤ ë‚´ìš©ì„ ë³´ë©´, ì„¸ì…˜ ID = Zf5gy86ROihZsEMgEvASu-t4kwc6pYRxcU3KnwIL27XuzW6dAoW5, Primary = 1104478448, Secondary = 1625602300 ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<p style="height:20px;"></p>
<h4 id="2-í´ë¼ì´ì–¸íŠ¸ëŠ”-primary-ì„œë²„ë¡œ-ì—°ê²°ë˜ë©°-ì¿ í‚¤ë¡œ-testsessionì„-ì°¾ìŠµë‹ˆë‹¤-í•˜ì§€ë§Œ-primary-ì„œë²„ì™€-í´ë¼ì´ì–¸íŠ¸ì—ëŠ”-testsession-ì¿ í‚¤ê°€-ì—†ìŠµë‹ˆë‹¤-ì›¹ë¡œì§-ì„œë²„ëŠ”-primary-ì™€-secondaryë¥¼-ë°”ê¾¸ì–´-jsessionid-ë¥¼-ë‹¤ì‹œ-í• ë‹¹í•©ë‹ˆë‹¤-ë‹¤ì‹œ-í• ë‹¹-í•˜ëŠ”-ì´ìœ ëŠ”-ë‹¤ìŒ-ì—°ê²°ë•ŒëŠ”-secondaryë¡œ-ê°€ê²Œ-ë˜ê¸°-ë•Œë¬¸ì…ë‹ˆë‹¤">(2). í´ë¼ì´ì–¸íŠ¸ëŠ” Primary ì„œë²„ë¡œ ì—°ê²°ë˜ë©°, ì¿ í‚¤ë¡œ TESTSESSIONì„ ì°¾ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ Primary ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì—ëŠ” TESTSESSION ì¿ í‚¤ê°€ ì—†ìŠµë‹ˆë‹¤. ì›¹ë¡œì§ ì„œë²„ëŠ” Primary ì™€ Secondaryë¥¼ ë°”ê¾¸ì–´ JSESSIONID ë¥¼ ë‹¤ì‹œ í• ë‹¹í•©ë‹ˆë‹¤. ë‹¤ì‹œ í• ë‹¹ í•˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒ ì—°ê²°ë•ŒëŠ” Secondaryë¡œ ê°€ê²Œ ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>[info] [client 192.168.56.1] weblogic: Header from WLS:[Set-Cookie]=[JSESSIONID=Zf5gy86ROihZsEMgEvASu-t4kwc6pYRxcU3KnwIL27XuzW6dAoW5!1104478448; path=/; HttpOnly]

[info] [client 192.168.56.1] weblogic: Hdrs to client (add):[Set-Cookie]=[JSESSIONID=Zf5gy86ROihZsEMgEvASu-t4kwc6pYRxcU3KnwIL27XuzW6dAoW5!1625602300!1104478448; path=/; HttpOnly]
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ì›¹ë¡œì§ì—ì„œ ì¿ í‚¤ë¥¼ ì½ì—ˆì„ ë•Œ, Primary ê°’ì´ í˜„ì¬ ì„œë²„ê°€ ì•„ë‹ˆë©´ is not primary server ë“±ìœ¼ë¡œ ë¡œê·¸ë¥¼ ë¿Œë¦°ë‹¤. ì´ë•Œ ë‹¤ì‹œ Primary ì„œë²„ë¥¼ í˜„ì¬ ì„œë²„ë¡œ ì •í•˜ê³ , Secondary ì„œë²„ë¥¼ ì„ íƒí•˜ê²Œ ë˜ëŠ”ë°, ëœë¤ìœ¼ë¡œ ì„ íƒí•œë‹¤. ì›ë˜ SecondaryëŠ” ëœë¤ ì„ íƒ.</p>
</blockquote>
<p style="height:40px;"></p>
<h3 id="24-apacheì™€-weblogicì˜-cookie-nameì„-testsessionìœ¼ë¡œ-ë™ì¼-ì„¤ì •">2.4 apacheì™€ weblogicì˜ cookie nameì„ TESTSESSIONìœ¼ë¡œ ë™ì¼ ì„¤ì •</h3>

<h4 id="1-ì²«-ì ‘ì†-ì‹œ-ì›¹ë¡œì§ì€-testsessionìœ¼ë¡œ-ì¿ í‚¤ë¥¼-í• ë‹¹í•©ë‹ˆë‹¤">(1). ì²« ì ‘ì† ì‹œ ì›¹ë¡œì§ì€ TESTSESSIONìœ¼ë¡œ ì¿ í‚¤ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤.</h4>

<h4 id="2-ë‘ë²ˆì§¸-ì ‘ì†-ì‹œ-í´ë¼ì´ì–¸íŠ¸ê°€-ìš”ì²­í•˜ëŠ”-testsessionì€-ì›¹ë¡œì§ê³¼-ë™ì¼í•˜ë¯€ë¡œ-ì¿ í‚¤ë¥¼-ë°œê²¬í•˜ê³ -íŒŒì‹±í•˜ì—¬-ì •ë³´ë¥¼-ì–»ì„-ìˆ˜-ìˆìŠµë‹ˆë‹¤">(2). ë‘ë²ˆì§¸ ì ‘ì† ì‹œ í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•˜ëŠ” TESTSESSIONì€ ì›¹ë¡œì§ê³¼ ë™ì¼í•˜ë¯€ë¡œ ì¿ í‚¤ë¥¼ ë°œê²¬í•˜ê³ , íŒŒì‹±í•˜ì—¬ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>[debug] ApacheProxy.cpp(1738): [client 192.168.56.1] weblogic: getPreferred: availcookie=[TESTSESSION=Sfxh2Z5GFEaGKSt4fH_-YsWru2wFdHzmmZVJV1xwMwBQRT4Mp-EQ!1104478448!1625602300]

[debug] ApacheProxy.cpp(1785): [client 192.168.56.1] weblogic: Found cookie from cookie header: TESTSESSION=Sfxh2Z5GFEaGKSt4fH_-YsWru2wFdHzmmZVJV1xwMwBQRT4Mp-EQ!1104478448!1625602300

[debug] BaseProxy.cpp(1464): [client 192.168.56.1] weblogic: Parsing cookie TESTSESSION=Sfxh2Z5GFEaGKSt4fH_-YsWru2wFdHzmmZVJV1xwMwBQRT4Mp-EQ!1104478448!1625602300
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<h4 id="3-ì¿ í‚¤ì—ì„œ-ì„¸ì…˜-íƒ€ì„ì•„ì›ƒ-ë°©ì§€ë¥¼-ìœ„í•œ-ì‹œê°„ë§Œ-ê°±ì‹ í•©ë‹ˆë‹¤">(3). ì¿ í‚¤ì—ì„œ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ë°©ì§€ë¥¼ ìœ„í•œ ì‹œê°„ë§Œ ê°±ì‹ í•©ë‹ˆë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>[info] [client 192.168.56.1] weblogic: Hdrs to client (add):[Date]=[Mon, 06 Jul 2015 05:32:18 GMT]
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:40px;"></p>
<h3 id="25-apache-cookie-nameì€-testsession2-wls-cookie-nameì€-testsession1-ì¼-ë•Œ">2.5 apache cookie nameì€ TESTSESSION2, wls cookie nameì€ TESTSESSION1 ì¼ ë•Œ</h3>

<blockquote>
  <p>ë‹¨ê³„ 1.2 ì˜ í…ŒìŠ¤íŠ¸ì™€ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ìš”ì²­í•˜ëŠ” ì¿ í‚¤ëª…ê³¼ ë°°ê¸‰ë˜ëŠ” ì¿ í‚¤ëª…ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
</blockquote>
<p style="height:20px;"></p>
<p>ì´ë¡œì¨ ì¿ í‚¤ë¡œ ì‚¬ìš©ì(ë¸Œë¼ìš°ì €)ê°€ ì‹ ê·œ ì ‘ì†ì¸ì§€, ì•„ë‹ˆë¼ë©´ ê°€ì§€ê³  ìˆëŠ” ì¿ í‚¤ë¥¼ ë¶„ì„í•˜ì—¬ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì›í•˜ëŠ” ì •ë³´ì¸ì§€ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p style="height:40px;"></p>
<h2 id="3-jsession-id-í…ŒìŠ¤íŠ¸">3. JSESSION ID í…ŒìŠ¤íŠ¸</h2>

<h3 id="21-ê°™ì€-cookie-ë¥¼-ë°œê¸‰í•˜ëŠ”-cookie_detailjsp-í˜¸ì¶œ">2.1 ê°™ì€ cookie ë¥¼ ë°œê¸‰í•˜ëŠ” cookie_detail.jsp í˜¸ì¶œ</h3>

<blockquote>
  <p>(1) webapp1/cookie_detail.jsp í˜¸ì¶œ -&gt; count = 1
(2) webapp1/cookie_detail.jsp í˜¸ì¶œ -&gt; count = 2
(3) webapp2/cookie_detail.jsp í˜¸ì¶œ -&gt; count = 1
(4) webapp1/cookie_detail.jsp í˜¸ì¶œ -&gt; count = 1</p>

  <p>webapp1ê³¼ webapp2ê°€ ë™ì¼í•œ ì¿ í‚¤ëª…ì„ ì‚¬ìš©í•˜ê³  ìˆì–´, ë‹¤ë¥¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì„¸ì…˜ì„ ë®ì–´ì”Œì›Œë²„ë¦¬ê¸° ë•Œë¬¸ì— 1ì”© ì¦ê°€ë˜ëŠ” count ë³€ìˆ˜ ë˜í•œ ì´ˆê¸°í™” ë©ë‹ˆë‹¤.</p>
</blockquote>

<p>ì‚¬ìš©ìì˜ ì„¸ì…˜ ì •ë³´ê°€ í•„ìš”í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë‹¤ìˆ˜ ì¼ë•Œ, ì–´í”Œë¦¬ì¼€ì´ì…˜ë“¤ì˜ ì¿ í‚¤ëª…ì´ ë™ì¼í•˜ë‹¤ë©´ ì´ì „ì˜ ì •ë³´ê°€ ì œê±° ë©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë³„ë¡œ ì¿ í‚¤ëª…ì´ ë‹¬ë¼ì•¼ í•©ë‹ˆë‹¤.</p>
<p style="height:40px;"></p>
<h2 id="4-ì„¸ì…˜-ê³µìœ -í…ŒìŠ¤íŠ¸">4. ì„¸ì…˜ ê³µìœ  í…ŒìŠ¤íŠ¸</h2>

<h3 id="41-ë„ë©”ì¸-ë‹¨ìœ„">4.1 ë„ë©”ì¸ ë‹¨ìœ„</h3>

<p>ì—¬ëŸ¬ ì„œë¸Œ ë„ë©”ì¸ì—ì„œ í•˜ë‚˜ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„¸ì…˜ì„ weblogic.xml ì„¤ì •ì„ í†µí•´ ê³µìœ  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<pre><code class="language-weblogic.xml">&lt;weblogic-web-app&gt;
     &lt;session-descriptor&gt;
          &lt;cookie-name&gt;SUBSESSION&lt;/cookie-name&gt;
          &lt;cookie-domain&gt;.main.com&lt;/cookie-domain&gt;
     &lt;/session-descriptor&gt;
&lt;/weblogic-web-app&gt;
</code></pre>
<p style="height:20px;"></p>
<pre><code class="language-/etc/hosts">192.168.56.2 sub1.main.com sub2.main.com
</code></pre>

<blockquote>
  <p>ìœ„ì˜ ì„¤ì •ì€ sub1.main.comê³¼ sub2.main.com ì—ì„œ ì„¸ì…˜ ê³µìœ ê°€ ë©ë‹ˆë‹¤.</p>

  <p>cookie-domainì—ëŠ” ë„ë©”ì¸ ëª… ì™¸ì—ë„, ipì£¼ì†Œ(.168.56.2)ë¡œ ì„¤ì •í•˜ì—¬ ì„¸ì…˜ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

  <p>ì (.)ì´ ìµœì†Œ 2ê°œê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. (.co.kr ì€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)</p>
</blockquote>
<p style="height:40px;"></p>
<h3 id="42-ì–´í”Œë¦¬ì¼€ì´ì…˜-ë‹¨ìœ„">4.2 ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ìœ„</h3>

<p>ì—¬ëŸ¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì„¸ì…˜ì„ ê³µìœ í•  ë•ŒëŠ” ear êµ¬ì¡°ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<p style="height:20px;"></p>
<h4 id="1-ear-êµ¬ì¡°">(1). ear êµ¬ì¡°</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>/earapp
	webapp1 (ë‹¨ê³„ 3.1ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜)
	webapp2 (ë‹¨ê³„ 3.1ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜)
	META-INF
		 application.xml
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<pre><code class="language-application.xml">&lt;application&gt;
        &lt;display-name&gt;earapp&lt;/display-name&gt;
        &lt;module&gt;
                &lt;web&gt;
                        &lt;web-uri&gt;webapp1&lt;/web-uri&gt;
                        &lt;context-root&gt;/webapp1&lt;/context-root&gt;
                &lt;/web&gt;
        &lt;/module&gt;
â€‹
        &lt;module&gt;
                &lt;web&gt;
                        &lt;web-uri&gt;webapp2&lt;/web-uri&gt;
                        &lt;context-root&gt;/webapp2&lt;/context-root&gt;
                &lt;/web&gt;
        &lt;/module&gt;
&lt;/application&gt;
</code></pre>
<p style="height:20px;"></p>
<pre><code class="language-weblogic.xml">&lt;weblogic-application&gt;
        &lt;session-descriptor&gt;
                &lt;cookie-path&gt;/&lt;/cookie-path&gt;
                &lt;sharing-enabled&gt;true&lt;/sharing-enabled&gt;
        &lt;/session-descriptor&gt;
&lt;/weblogic-application&gt;
</code></pre>
<p style="height:20px;"></p>
<p>earíŒ¨í‚¤ì§•ìœ¼ë¡œ ì¸í•´ webapp1ê³¼ webapp2ê°€ ë¬¶ì—¬ìˆìŠµë‹ˆë‹¤.</p>

<p>webapp1ê³¼ webapp2 ë‘˜ë‹¤ ìƒì„±í•˜ëŠ” ì¿ í‚¤ ì´ë¦„ì€ JSESSIONID ì…ë‹ˆë‹¤.</p>

<sharing-enabled> ì˜µì…˜ìœ¼ë¡œ ë‘ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ JSESSIONIDë¥¼ ê³µìœ í•©ë‹ˆë‹¤.
</sharing-enabled>
:ET