I"’%<h2 id="1-ê°œìš”">1. ê°œìš”</h2>

<p>WebLogic Server 14c ê¸°ì¤€ì—ì„œ Server ì¸¡ì— TLS Protocolì„ ì–´ë–»ê²Œ ë‹¤ë£¨ëŠ”ì§€ ì•Œì•„ë³¸ë‹¤.</p>
<p style="height:40px;"></p>
<h2 id="2-tls-ì§€ì›-ì •ë³´">2. TLS ì§€ì› ì •ë³´</h2>

<p><a href="https://docs.oracle.com/en/middleware/standalone/weblogic-server/14.1.1.0/secmg/standards.html#GUID-9DA3FE17-6ABA-4380-B2AE-FCBB39E0B7EC">WebLogic Server 14c í‘œì¤€ Security ì§€ì› ì •ë³´</a> ì—ì„œ í‘œì¤€ìœ¼ë¡œ ì§€ì›í•˜ëŠ” Security í•­ëª©ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>

<ul>
  <li>TLS 1.2 ì´ìƒì„ ê¶Œì¥</li>
  <li>TLS 1.2 ë¯¸ë§Œ ë²„ì „ì— ëŒ€í•´ì„œëŠ” JDKì— ì˜í•´ Disabled ë  ìˆ˜ ìˆë‹¤.</li>
</ul>
<p style="height:20px;"></p>
<p><a href="https://docs.oracle.com/en/middleware/standalone/weblogic-server/14.1.1.0/secmg/ssl_version.html">SSL/TLS í”„ë¡œí† ì½œ ë²„ì „ ì§€ì •</a> ì—ì„œ Protocol ì¸ìˆ˜ë¥¼ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">weblogic.security.SSL.protocolVersion</code> : í™œì„±í™”í•  Protocol</li>
  <li><code class="language-plaintext highlighter-rouge">weblogic.security.SSL.minimumProtocolVersion</code> : ìœ„ Protocolì—ì„œ ìµœì†Œ ë²„ì „ ì§€ì •</li>
  <li><code class="language-plaintext highlighter-rouge">weblogic.security.ssl.sslcontext.protocol</code></li>
  <li>(Note) <code class="language-plaintext highlighter-rouge">$JAVA_HOME/jre/lib/security/java.security</code> ì˜ <code class="language-plaintext highlighter-rouge">jdk.tls.disabledAlgorithms</code> ì—ì„œ Protocol ê¸°ë³¸ê°’.</li>
</ul>
<p style="height:40px;"></p>
<h2 id="3-wlsì—ì„œ-tls-í™œì„±í™”">3. WLSì—ì„œ TLS í™œì„±í™”</h2>

<p>WebLogic Server 14c ê¸°ì¤€ìœ¼ë¡œëŠ” TLS 1.2v ê°€ ìµœì†Œë²„ì „ ìœ¼ë¡œ ì§€ì •ë˜ì–´ ìˆë‹¤.</p>

<p>ì•„ë˜ ì—ì„œ ê·¸ ê¸°ë³¸ê°’ì„ ê²€ì¦í•˜ê³ , ìµœì†Œ ë²„ì „ ë³€ê²½ë°©ë²•ì„ ì‚´í´ë³¸ë‹¤.</p>
<p style="height:40px;"></p>
<h3 id="31-tlsv12-default">3.1 TLSv1.2 (Default)</h3>

<p>Self-Signed SSL Certificate ë¥¼ ì ìš©í•˜ì˜€ë‹¤.</p>

<p>openssl ëª…ë ¹ì–´ë¡œ TLS ë²„ì „ë³„ë¡œ í™•ì¸ì„ ê°„ëµíˆ í•´ë³´ë©´â€¦</p>
<p style="height:20px;"></p>
<p>TLSv1.0</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>openssl s_client <span class="nt">-connect</span> wls.local:8441 <span class="nt">-tls1</span>
CONNECTED<span class="o">(</span>00000003<span class="o">)</span>
140159853406016:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70
<span class="nt">---</span>
no peer certificate available
<span class="nt">---</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<p>TLSv1.1</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>openssl s_client <span class="nt">-connect</span> wls.local:8441 <span class="nt">-tls1_1</span>
CONNECTED<span class="o">(</span>00000003<span class="o">)</span>
140675578558272:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70
<span class="nt">---</span>
no peer certificate available
<span class="nt">---</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<p>TLSv1.2</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>openssl s_client <span class="nt">-connect</span> wls.local:8441 <span class="nt">-tls1_2</span>
CONNECTED<span class="o">(</span>00000003<span class="o">)</span>
<span class="nv">depth</span><span class="o">=</span>0 DC <span class="o">=</span> KIS, C <span class="o">=</span> KR, ST <span class="o">=</span> ST, L <span class="o">=</span> L, O <span class="o">=</span> O, OU <span class="o">=</span> OU, CN <span class="o">=</span> KIS
verify error:num<span class="o">=</span>18:self signed certificate
verify <span class="k">return</span>:1
<span class="nv">depth</span><span class="o">=</span>0 DC <span class="o">=</span> KIS, C <span class="o">=</span> KR, ST <span class="o">=</span> ST, L <span class="o">=</span> L, O <span class="o">=</span> O, OU <span class="o">=</span> OU, CN <span class="o">=</span> KIS
verify <span class="k">return</span>:1
<span class="nt">---</span>
Certificate chain
 0 s:DC <span class="o">=</span> KIS, C <span class="o">=</span> KR, ST <span class="o">=</span> ST, L <span class="o">=</span> L, O <span class="o">=</span> O, OU <span class="o">=</span> OU, CN <span class="o">=</span> KIS
   i:DC <span class="o">=</span> KIS, C <span class="o">=</span> KR, ST <span class="o">=</span> ST, L <span class="o">=</span> L, O <span class="o">=</span> O, OU <span class="o">=</span> OU, CN <span class="o">=</span> KIS
<span class="nt">---</span>
Server certificate
<span class="nt">-----BEGIN</span> CERTIFICATE-----
MIIDYzCCAkugAwIBAgIEeZa2YzANBgkqhkiG9w0BAQsFADBiMRMwEQYKCZImiZPy
...
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<p>TLSv1.3</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>openssl s_client <span class="nt">-connect</span> wls.local:8441 <span class="nt">-tls1_3</span>
CONNECTED<span class="o">(</span>00000003<span class="o">)</span>
<span class="nv">depth</span><span class="o">=</span>0 DC <span class="o">=</span> KIS, C <span class="o">=</span> KR, ST <span class="o">=</span> ST, L <span class="o">=</span> L, O <span class="o">=</span> O, OU <span class="o">=</span> OU, CN <span class="o">=</span> KIS
verify error:num<span class="o">=</span>18:self signed certificate
verify <span class="k">return</span>:1
<span class="nv">depth</span><span class="o">=</span>0 DC <span class="o">=</span> KIS, C <span class="o">=</span> KR, ST <span class="o">=</span> ST, L <span class="o">=</span> L, O <span class="o">=</span> O, OU <span class="o">=</span> OU, CN <span class="o">=</span> KIS
verify <span class="k">return</span>:1
<span class="nt">---</span>
Certificate chain
 0 s:DC <span class="o">=</span> KIS, C <span class="o">=</span> KR, ST <span class="o">=</span> ST, L <span class="o">=</span> L, O <span class="o">=</span> O, OU <span class="o">=</span> OU, CN <span class="o">=</span> KIS
   i:DC <span class="o">=</span> KIS, C <span class="o">=</span> KR, ST <span class="o">=</span> ST, L <span class="o">=</span> L, O <span class="o">=</span> O, OU <span class="o">=</span> OU, CN <span class="o">=</span> KIS
<span class="nt">---</span>
Server certificate
<span class="nt">-----BEGIN</span> CERTIFICATE-----
MIIDYzCCAkugAwIBAgIEeZa2YzANBgkqhkiG9w0BAQsFADBiMRMwEQYKCZImiZPy
...
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<p>ê¸°ë³¸ì ìœ¼ë¡œ TLSv1.2, TLSv1.3 ì´ í™œì„±í™” ë˜ì–´ ìˆë‹¤.</p>

<p><em>ì´í›„ ë¶€í„°ëŠ” ìœ„ TLS ëª…ë ¹ì–´ì˜ ì¶œë ¥ê²°ê³¼ë¥¼ ìƒëµí•˜ê³ , ì„±ê³µ ì—¬ë¶€ë¥¼ ì§ì ‘ ê¸°ì…í•œë‹¤.</em></p>
<p style="height:40px;"></p>
<h3 id="32-tlsv10-tlsv12-ë¯¸ë§Œ">3.2 TLSv1.0 (TLSv1.2 ë¯¸ë§Œ)</h3>

<p>ë‹¤ìŒì˜ ì˜µì…˜ì„ ì ìš©í•œë‹¤.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nt">-Dweblogic</span>.security.SSL.minimumProtocolVersion<span class="o">=</span>TLSv1
<span class="nt">-Djava</span>.security.properties<span class="o">=</span><span class="k">${</span><span class="nv">DOMAIN_HOME</span><span class="k">}</span>/java.security
</pre></td></tr></tbody></table></code></pre></div></div>
<p style="height:20px;"></p>
<p><code class="language-plaintext highlighter-rouge">java.security</code>ëŠ” ${JAVA_HOME}/jre/lib/security/java.security ì˜ ë³µì œë³¸ì´ë©°, ë‹¤ìŒì²˜ëŸ¼ í¸ì§‘í•œë‹¤.</p>

<pre><code class="language-java.security">#jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \
jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, \
    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \
    include jdk.disabled.namedCurves
</code></pre>

<p><em>TLSv1, TLSv1.1</em> ì„ ë¹„í™œì„± ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°í–ˆë‹¤.</p>
<p style="height:20px;"></p>
<p>ë‹¤ìŒì˜ ëª…ë ¹ì–´ë¡œ TLSv1.0 ~ TLSv1.3 ê¹Œì§€ ì •ìƒ ìˆ˜í–‰ëœë‹¤.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>openssl s_client <span class="nt">-connect</span> wls.local:8441 <span class="nt">-tls1</span>
<span class="nv">$ </span>openssl s_client <span class="nt">-connect</span> wls.local:8441 <span class="nt">-tls1_2</span>
<span class="nv">$ </span>openssl s_client <span class="nt">-connect</span> wls.local:8441 <span class="nt">-tls1_3</span>
</pre></td></tr></tbody></table></code></pre></div></div>

:ET