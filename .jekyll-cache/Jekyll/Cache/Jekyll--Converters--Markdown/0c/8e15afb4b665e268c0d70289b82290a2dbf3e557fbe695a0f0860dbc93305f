I"‘?<h2 id="1-ê°œìš”">1. ê°œìš”</h2>

<p>ë¬¼ë¦¬ ë””ìŠ¤í¬ë¥¼ ì“¸ ìˆ˜ ìˆê²Œ í¬ë§·í•˜ê³  ë§ˆìš´íŠ¸ë¥¼ í•˜ëŠ” ë°©ë²•ì„</p>

<ul>
  <li><a href="http://localhost:4000/6.rhcsa/StoragePartitioning">[RHCSA] Storage íŒŒí‹°ì…”ë‹</a></li>
  <li><a href="http://localhost:4000/6.rhcsa/SwapPartitioning">[RHCSA] Swap íŒŒí‹°ì…”ë‹</a></li>
</ul>

<p>ì—ì„œ í•™ìŠµí•˜ì˜€ë‹¤.</p>

<p>ì—¬ê¸°ì„œëŠ” LVM ê°œë…ì„ ë°°ìš´ë‹¤.</p>

<p>LVMì€ ë¬¼ë¦¬ ë””ìŠ¤í¬ë¥¼ ì´ˆê¸°í™” í•œ ì´í›„ì—, ê·¸ë£¹í•‘ ê°œë…ì„ ë„ì…í•˜ì—¬</p>

<p>ì—¬ëŸ¬ ë¬¼ë¦¬ ë””ìŠ¤í¬ë¥¼ í•˜ë‚˜ì˜ ê·¸ë£¹ì²˜ëŸ¼ ë¬¶ì–´ì¤„ ìˆ˜ ìˆê²Œ ëœë‹¤.</p>

<p>ë…¼ë¦¬ì ì¸ ê°œë…ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ê¸° ë•Œë¬¸ì— ì›í•˜ëŠ” í¬ê¸°ì˜ ê°€ìƒì˜ ë””ìŠ¤í¬ ì¥ì¹˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p>

<h2 id="2-ë””ìŠ¤í¬-ì´ˆê¸°í™”-ë°-íŒŒí‹°ì…”ë‹">2. ë””ìŠ¤í¬ ì´ˆê¸°í™” ë° íŒŒí‹°ì…”ë‹</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># lsblk --fs</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
vda                                                     
â”œâ”€vda1                                                  
â”œâ”€vda2 vfat         399C-0F7D                            /boot/efi
â””â”€vda3 xfs    root  3cd0d4ca-93f6-423b-a469-70ab2b10b667 /
vdb                                                     
vdc                                                     
vdd
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ì‹ ê·œ ë””ìŠ¤í¬ ì¥ì¹˜ëŠ” vdb, vdc, vdd</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># parted -s /dev/vdb mkpart part1 1M 256MB</span>
<span class="c"># parted -s /dev/vdb mkpart part2 257M 513MB</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>xfs / ext4 ë“±ì˜ typeì„ ëª…ì‹œí•˜ì§€ ì•ŠëŠ” ê²ƒì´ íŠ¹ì§•ì´ë‹¤.</p>

  <p>ë‘ ê°œ(part1, part2)ì˜ íŒŒí‹°ì…”ë‹ì„ í•˜ì˜€ë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># parted /dev/vdb set 1 lvm on</span>
<span class="c"># parted /dev/vdb set 2 lvm on</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>lvm typeìœ¼ë¡œ ì§€ì •í•œë‹¤.</p>

  <p>ìœ„ì—ì„œ lvm typeì„ ì¼ê´„ ì§€ì •í•˜ëŠ” ë°©ë²•ì€ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># parted /dev/vdb print</span>
Model: Virtio Block Device <span class="o">(</span>virtblk<span class="o">)</span>
Disk /dev/vdb: 5369MB
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
Partition Table: gpt
Disk Flags:

Number  Start   End    Size   File system  Name   Flags
 1      1049kB  256MB  255MB               part1  lvm
 2      257MB   513MB  256MB               part2  lvm
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ì´ 2ê°œì˜ íŒŒí‹°ì…˜ì´ LVMìœ¼ë¡œ ì˜ ì¤€ë¹„ë˜ì—ˆë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># udevadm settle</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ë””ìŠ¤í¬ ì¥ì¹˜ê°€ ì¤€ë¹„ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì„ ìŠì§€ ë§ìâ€¦!</p>
</blockquote>

<h2 id="3-ë¬¼ë¦¬-ë³¼ë¥¨">3. ë¬¼ë¦¬ ë³¼ë¥¨</h2>

<p>phyisical voulume ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ ë‹¤ìŒ volume groupì—ì„œ ë¬¶ì„ ìˆ˜ ìˆë‹¤.</p>

<ul>
  <li>ê°œë³„ì ì¸ ë¬¼ë¦¬ ë””ìŠ¤í¬ ì¥ì¹˜ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ë¬¶ê¸° ìœ„í•´ í•˜ëŠ” ê³¼ì •</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># pvcreate /dev/vdb1 /dev/vdb2</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ê° ì¥ì¹˜ë¥¼ volumeìœ¼ë¡œ ë§Œë“¤ì–´ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆê²Œ ëœë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># pvs</span>
  PV         VG Fmt  Attr PSize   PFree 
  /dev/vdb1     lvm2 <span class="nt">---</span>  243.00m 243.00m
  /dev/vdb2     lvm2 <span class="nt">---</span>  244.00m 244.00m
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>pvsëª…ë ¹ìœ¼ë¡œ ê°„ëµí•˜ê²Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="c"># pvdisplay</span>
  <span class="s2">"/dev/vdb1"</span> is a new physical volume of <span class="s2">"243.00 MiB"</span>
  <span class="nt">---</span> NEW Physical volume <span class="nt">---</span>
  PV Name               /dev/vdb1
  VG Name              
  PV Size               243.00 MiB
  Allocatable           NO
  PE Size               0  
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               qDxeX0-e7my-KvdJ-m8Vs-lvq7-c0lv-wczCWl
  
  <span class="s2">"/dev/vdb2"</span> is a new physical volume of <span class="s2">"244.00 MiB"</span>
  <span class="nt">---</span> NEW Physical volume <span class="nt">---</span>
  PV Name               /dev/vdb2
  VG Name              
  PV Size               244.00 MiB
  Allocatable           NO
  PE Size               0  
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               aEQNQ1-nprf-fuHY-2U2d-puIi-2dlN-3lm5dM
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>pvdisplay ëª…ë ¹ìœ¼ë¡œ ëª¨ë“  volumeì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>

  <p>ì¥ì¹˜ëª…(<em>PV Name</em>)ì„ ë³´ë©´ ì´í•´ê°€ ì‰½ë‹¤.</p>
</blockquote>

<h2 id="4-ë³¼ë¥¨-ê·¸ë£¹">4. ë³¼ë¥¨ ê·¸ë£¹</h2>

<p>ì•ì„œ ë§Œë“  ë³¼ë¥¨ì„ ë¬¶ì–´ ê·¸ë£¹ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># vgcreate myvg /dev/vdb1 /dev/vdb2</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># vgs</span>
  VG   <span class="c">#PV #LV #SN Attr   VSize   VFree </span>
  myvg   2   0   0 wz--n- 480.00m 480.00m
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>vgs ëª…ë ¹ìœ¼ë¡œ ê°„ëµíˆ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="c"># vgdisplay</span>
  <span class="nt">---</span> Volume group <span class="nt">---</span>
  VG Name               myvg
  System ID            
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  1
  VG Access             <span class="nb">read</span>/write
  VG Status             resizable
  MAX LV                0
  Cur LV                0
  Open LV               0
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               480.00 MiB
  PE Size               4.00 MiB
  Total PE              120
  Alloc PE / Size       0 / 0  
  Free  PE / Size       120 / 480.00 MiB
  VG UUID               2NvDjK-sZyV-BK9C-OlE0-If4P-lLcA-WGn4dZ
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>VG Size: /dev/vdb1ê³¼ vdb2ì˜ ì´í•©ê³¼ ê°™ë‹¤.</p>

  <p>PE : LVM ê°œë…ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë””ìŠ¤í¬ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë‹¨ìœ„. í•´ë‹¹ ë‹¨ìœ„ë§Œí¼ ë””ìŠ¤í¬ ìš©ëŸ‰ì„ ì¶•ì†Œ/í™•ëŒ€ í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>

<h2 id="5-ë…¼ë¦¬-ë³¼ë¥¨">5. ë…¼ë¦¬ ë³¼ë¥¨</h2>

<p>ìƒì„±í•œ ê·¸ë£¹ì€ í•˜ë‚˜ì˜ ë¬¼ë¦¬ ë””ìŠ¤í¬ì™€ ê°™ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p>í•´ë‹¹ ë””ìŠ¤í¬ë¥¼ ë…¼ë¦¬ ë³¼ë¥¨ì´ë¼ëŠ” ë‹¨ìœ„ë¡œ íŒŒí‹°ì…”ë‹ í•˜ì—¬ ì“¸ ìˆ˜ ìˆë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># lvcreate -n mylv -L 400MB myvg</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>myvg (/dev/vdb1, vdb2ì˜ í•©)ì—ì„œ 400MB ë§Œí¼ë§Œ ì˜ë¼ì„œ íŒŒí‹°ì…”ë‹ í•œë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># lvs</span>
  LV   VG   Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  mylv myvg <span class="nt">-wi-a-----</span> 400.00m  
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ê°„ëµíˆ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="c"># lvdisplay</span>
  <span class="nt">---</span> Logical volume <span class="nt">---</span>
  LV Path                /dev/myvg/mylv
  LV Name                mylv
  VG Name                myvg
  LV UUID                Mrx6lv-G0O9-4bhX-r5ef-ISjw-d0aA-qQvDGl
  LV Write Access        <span class="nb">read</span>/write
  LV Creation host, <span class="nb">time </span>servera.lab.example.com, 2021-12-08 22:56:00 <span class="nt">-0500</span>
  LV Status              available
  <span class="c"># open                 0</span>
  LV Size                400.00 MiB
  Current LE             100
  Segments               2
  Allocation             inherit
  Read ahead sectors     auto
  - currently <span class="nb">set </span>to     8192
  Block device           253:0
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ëˆˆì—¬ê²¨ ë³¼ ê²ƒì€ <em>LV Path</em> ì´ë‹¤. ë§ˆì¹˜ ì‹¤ì œ ë””ìŠ¤í¬ ì¥ì¹˜ì™€ ê°™ë‹¤.</p>

  <p>ê·¸ë¦¬ê³ , ì—¬ê¸°ë„ PEê°™ì´ LE ê°œë…ì´ ìˆë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># parted /dev/myvg/mylv print</span>
Error: /dev/dm-0: unrecognised disk label
Model: Linux device-mapper <span class="o">(</span>linear<span class="o">)</span> <span class="o">(</span>dm<span class="o">)</span>                                 
Disk /dev/dm-0: 419MB
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
Partition Table: unknown
Disk Flags:
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>(ê°€ìƒì˜) ë””ìŠ¤í¬ ì¥ì¹˜ê°€ ì´ˆê¸°í™” ë˜ì§€ ì•Šì€ ë¡œê·¸ ë‚´ìš©.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c"># mkfs.xfs /dev/myvg/mylv</span>
meta-data<span class="o">=</span>/dev/myvg/mylv         <span class="nv">isize</span><span class="o">=</span>512    <span class="nv">agcount</span><span class="o">=</span>4, <span class="nv">agsize</span><span class="o">=</span>25600 blks
         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span>512   <span class="nv">attr</span><span class="o">=</span>2, <span class="nv">projid32bit</span><span class="o">=</span>1
         <span class="o">=</span>                       <span class="nv">crc</span><span class="o">=</span>1        <span class="nv">finobt</span><span class="o">=</span>1, <span class="nv">sparse</span><span class="o">=</span>1, <span class="nv">rmapbt</span><span class="o">=</span>0
         <span class="o">=</span>                       <span class="nv">reflink</span><span class="o">=</span>1
data     <span class="o">=</span>                       <span class="nv">bsize</span><span class="o">=</span>4096   <span class="nv">blocks</span><span class="o">=</span>102400, <span class="nv">imaxpct</span><span class="o">=</span>25
         <span class="o">=</span>                       <span class="nv">sunit</span><span class="o">=</span>0      <span class="nv">swidth</span><span class="o">=</span>0 blks
naming   <span class="o">=</span>version 2              <span class="nv">bsize</span><span class="o">=</span>4096   ascii-ci<span class="o">=</span>0, <span class="nv">ftype</span><span class="o">=</span>1
log      <span class="o">=</span>internal log           <span class="nv">bsize</span><span class="o">=</span>4096   <span class="nv">blocks</span><span class="o">=</span>1368, <span class="nv">version</span><span class="o">=</span>2
         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span>512   <span class="nv">sunit</span><span class="o">=</span>0 blks, lazy-count<span class="o">=</span>1
realtime <span class="o">=</span>none                   <span class="nv">extsz</span><span class="o">=</span>4096   <span class="nv">blocks</span><span class="o">=</span>0, <span class="nv">rtextents</span><span class="o">=</span>0
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>xfs(ë˜ëŠ” ì›í•˜ëŠ”) íƒ€ì…ìœ¼ë¡œ ì´ˆê¸°í™”.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># parted /dev/myvg/mylv print</span>
Model: Linux device-mapper <span class="o">(</span>linear<span class="o">)</span> <span class="o">(</span>dm<span class="o">)</span>
Disk /dev/dm-0: 419MB
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End    Size   File system  Flags
 1      0.00B  419MB  419MB  xfs
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>xfs íƒ€ì…ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ë‹ˆ, íŒŒí‹°ì…”ë‹ëœ ë””ìŠ¤í¬ë¡œì¨ ëª¨ë“  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆë‹¤.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># mount /path /dev/myvg/mylv</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>ì™€ ê°™ì´ ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>
:ET